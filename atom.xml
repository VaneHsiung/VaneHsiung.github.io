<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>vBlog</title>
  
  <subtitle>Vane Hsiung&#39;s Blog</subtitle>
  <link href="https://vanehsiung.github.io/atom.xml" rel="self"/>
  
  <link href="https://vanehsiung.github.io/"/>
  <updated>2020-11-30T14:08:31.380Z</updated>
  <id>https://vanehsiung.github.io/</id>
  
  <author>
    <name>vane</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>FreeBSD Desktop</title>
    <link href="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/"/>
    <id>https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/</id>
    <published>2020-11-28T08:38:58.000Z</published>
    <updated>2020-11-30T14:08:31.380Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>The FreeBSD Desktop series are about creating efficient desktop environment on the FreeBSD system.</p><a id="more"></a><h3 id="Simplified-Boot"><a href="#Simplified-Boot" class="headerlink" title="Simplified Boot"></a>Simplified Boot</h3><p>The default FreeBSD boot process is quite verbose with a lot of debugging information along with kernel messages.</p><p>This verbose information is usually useful for servers but not that much for laptops and/or desktop/workstation systems. The UNIX philosophy is to not â€˜sayâ€™ anything to stdout if everything is OK, so stdout/stderr should only be used when something is wrong.</p><p>Rules: prompt in less then 10 lines</p><ul><li><p>First add the <code>boot_mute=YES</code> option to the <code>/boot/loader.conf</code> file. As we are here, You may as well add <code>autoboot_delay=2</code> parameter to the <code>/boot/loader.conf</code> file to speed up boot process by 8 seconds. Default delay is 10 seconds.</p></li><li><p>In most cases its just adding <code>1&gt; /dev/null</code> or <code>1&gt; /dev/null 2&gt; /dev/null</code> to not display unneeded information at boot process.</p><ul><li><p><code>/etc/rc.d/ldconfig</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-check_startmsgs &amp;&amp; echo &#x27;ELF ldconfig path:&#x27; $&#123;_LDC&#125;</span></span><br><span class="line"><span class="addition">+check_startmsgs &amp;&amp; echo &#x27;ELF ldconfig path:&#x27; $&#123;_LDC&#125; 1&gt; /dev/null</span></span><br><span class="line"><span class="deletion">-echo &#x27;32-bit compatibility ldconfig path:&#x27; $&#123;_LDC&#125;</span></span><br><span class="line"><span class="addition">+echo &#x27;32-bit compatibility ldconfig path:&#x27; $&#123;_LDC&#125; 1&gt; /dev/null</span></span><br></pre></td></tr></table></figure></li><li><p><code>/etc/rc.d/netif</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-/sbin/ifconfig $&#123;ifn&#125;</span></span><br><span class="line"><span class="addition">+/sbin/ifconfig $&#123;ifn&#125; 1&gt; /dev/null 2&gt; /dev/null</span></span><br></pre></td></tr></table></figure></li><li><p><code>/etc/rc.d/nfsclient</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-rpc.umntall -k</span></span><br><span class="line"><span class="addition">+rpc.umntall -k 2&gt; /dev/null</span></span><br></pre></td></tr></table></figure></li><li><p><code>/etc/rc.d/random</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-       if [ $&#123;harvest_mask&#125; -gt 0 ]; then</span></span><br><span class="line"><span class="deletion">-               echo -n &#x27;Setting up harvesting: &#x27;</span></span><br><span class="line"><span class="deletion">-               $&#123;SYSCTL&#125; kern.random.harvest.mask=$&#123;harvest_mask&#125; &gt; /dev/null</span></span><br><span class="line"><span class="deletion">-               $&#123;SYSCTL_N&#125; kern.random.harvest.mask_symbolic</span></span><br><span class="line"><span class="deletion">-       fi</span></span><br><span class="line"><span class="addition">+       #if [ $&#123;harvest_mask&#125; -gt 0 ]; then</span></span><br><span class="line"><span class="addition">+       #      echo -n &#x27;Setting up harvesting: &#x27;</span></span><br><span class="line"><span class="addition">+       #      $&#123;SYSCTL&#125; kern.random.harvest.mask=$&#123;harvest_mask&#125; &gt; /dev/null</span></span><br><span class="line"><span class="addition">+       #      $&#123;SYSCTL_N&#125; kern.random.harvest.mask_symbolic</span></span><br><span class="line"><span class="addition">+       #fi</span></span><br></pre></td></tr></table></figure></li><li><p><code>/etc/rc.d/routing</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-eval static_$&#123;_a&#125; delete $_if</span></span><br><span class="line"><span class="addition">+eval static_$&#123;_a&#125; delete $_if 1&gt; /dev/null 2&gt; /dev/null</span></span><br><span class="line"><span class="deletion">-static_$2 add $3</span></span><br><span class="line"><span class="addition">+static_$2 add $3 1&gt; /dev/null 2&gt; /dev/null</span></span><br><span class="line"><span class="deletion">-static_$2 add $3</span></span><br><span class="line"><span class="addition">+static_$2 add $3 1&gt; /dev/null 2&gt; /dev/null</span></span><br></pre></td></tr></table></figure></li><li><p><code>/etc/rc.d/devmatch</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-echo &quot;Autoloading module: $&#123;m&#125;&quot;</span></span><br><span class="line"><span class="addition">+#echo &quot;Autoloading module: $&#123;m&#125;&quot;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>I prefer not to use a login manager so I have an alias named <code>x</code> to <code>xinit</code> command. This way after I login I type <code>x</code> press [ENTER] and x11 desktop is started.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x: aliased to xinit ~&#x2F;.xinitrc -- -dpi 75 -nolisten tcp 1&gt; &#x2F;dev&#x2F;null 2&gt; &#x2F;dev&#x2F;null</span><br></pre></td></tr></table></figure></li><li><p>we can silence the FreeBSD boot process even more. Just add <code>rc_startmsgs=&quot;NO&quot;</code> to your <code>/etc/rc.conf</code> file.</p></li></ul><h5 id="Reply"><a href="#Reply" class="headerlink" title="Reply"></a>Reply</h5><p>For troubleshooting issues, Most boot messages can be found under:</p><ul><li>dmesg</li><li>(cat|tail|grep|less|more..) /var/log/messages</li></ul><p>Also donâ€™t really need it printing the default routes, netstat -r works great.</p><p>Tmux is useful.</p><p>(dislike)To disable the boot menu, put the following line in <code>/boot/loader.conf</code>: <code>beastie_disable=&quot;YES&quot;</code></p><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><h5 id="BIOS"><a href="#BIOS" class="headerlink" title="BIOS"></a>BIOS</h5><p>Disable unused (Express Card/Bluetooth/Camera/Fingerprint Reader/â€¦) and unwanted options (Intel AMT/Security Chip/UEFI/â€¦).</p><h5 id="Install-1"><a href="#Install-1" class="headerlink" title="Install"></a>Install</h5><ul><li><p>To put the image on the pendrive we will use the dd tool available on almost any Mac OS X (macOS) and Linux system. For Windows You will have to download it from here â€“ <span class="exturl" data-url="aHR0cDovL3d3dy5jaHJ5c29jb21lLm5ldC9kZA==">dd for windows<i class="fa fa-external-link-alt"></i></span>( bs=1M on Linux/Windows ).</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if&#x3D;FreeBSD-11.1-RELEASE-amd64-memstick.img of&#x3D;&#x2F;dev&#x2F;da1 bs&#x3D;1m</span><br></pre></td></tr></table></figure></li><li><p>When we have a new machine there is always a problem with new name for it. The RFC 1178 <span class="exturl" data-url="aHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzExNzg=">Choosing a Name for Your Computer<i class="fa fa-external-link-alt"></i></span> from 1990 year tries to address that issue </p></li><li><p>We do not need any additional components, with all deselected as shown below only the (not shown) base and kernel will be installed.</p></li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/freebsd-11-1-laptop-install-04.png" class="" title="FreeBSD"><ul><li>We will use ZFS because we want to use Boot Environments with sysutils/beadm port.<ul><li>Hit [ENTER] on the <code>Pool Type/Disks</code> to select target disk to install FreeBSD on.</li><li>Now (in FreeBSD 12.x) it is possible to install FreeBSD on GELI encrypted root on ZFS pool without any additional partitions or filesystems. You need to select is <code>Yes</code> for the <code>Encryption</code> part .</li><li>I advice using <code>GPT (BIOS+UEFI)</code> as it will support both system types so when you are running BIOS system now and will move the disk to other system that boots with UEFI it will also just work out of the box.</li><li>We will set SWAP size to <code>0</code> (no SWAP) as it will not be needed. If we will need SWAP in the future, then we will create ZVOL on ZFS and use it as a SWAP device.</li></ul></li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/freebsd-install-03.png" class="" title="FreeBSD"><ul><li>Select services as shown below.</li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/freebsd-11-1-laptop-install-23.png" class="" title="FreeBSD"><ul><li>Enable all security hardening features as shown below.</li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/freebsd-11-1-laptop-install-24.png" class="" title="FreeBSD"><h5 id="Boot"><a href="#Boot" class="headerlink" title="Boot"></a>Boot</h5><p>If You will have attached LAN cable and your interface is <code>em0</code> (check <code>ifconfig</code> command output) then <code>dhclient em0</code> command should grant You the working connection to the Internet â€“ assuming that You have DHCP server on that network. </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig em0 up</span><br><span class="line"># dhclient em0</span><br></pre></td></tr></table></figure><p>To test the network connectivity use the <code>ping</code> command.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ping -c 3 freebsd.org</span><br></pre></td></tr></table></figure><p>If You would like to connect to the World with wireless connection then here are the needed commands. First lets check what wireless card You have.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># sysctl net.wlan.devices</span><br></pre></td></tr></table></figure><p>We will now create <code>wlan</code> virtual device on top of our <code>iwn0</code> device and bring it up.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig wlan0 create wlandev iwn0</span><br><span class="line"># ifconfig wlan0 up</span><br></pre></td></tr></table></figure><p>We can scan for existing nearby WiFi access points if needed.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig wlan0 scan</span><br></pre></td></tr></table></figure><p>Now we need to add the desired WiFi network to the /etc/wpa_supplicant.conf file as shown below.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">network&#x3D;&#123;</span><br><span class="line">  ssid&#x3D;&quot;WIFI-NETWORK-NAME&quot;</span><br><span class="line">  psk&#x3D;&quot;PASSWORD&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then You may connect to it using the <code>wpa_supplicant</code> daemon. Hit the <code>[CTRL]+[Z]</code> key combination to put the process into suspended state. Then we type the <code>bg</code> command to put it back into running state, but in the background so we can continue to type next commands.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># wpa_supplicant -i wlan0 -c &#x2F;etc&#x2F;wpa_supplicant.conf</span><br></pre></td></tr></table></figure><p>Now we will request for the IP address from the access point DHCP server.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># dhclient wlan0</span><br></pre></td></tr></table></figure><h3 id="X11-Window-System"><a href="#X11-Window-System" class="headerlink" title="X11 Window System"></a>X11 Window System</h3><h5 id="BIOS-or-UEFI"><a href="#BIOS-or-UEFI" class="headerlink" title="BIOS or UEFI"></a>BIOS or UEFI</h5><p>First things first, if You find a device that is not supported by any â€˜acceleratedâ€™ driver like <code>intel</code> or <code>nvidia</code>. You would use <code>vesa</code> driver (Video Electronics Standards Association) while booting in BIOS mode and You will use <code>scfb</code> driver (System Console Frame Buffer) while booting on UEFI mode. This can be checked by </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% sysctl machdep.bootmethod</span><br></pre></td></tr></table></figure><h5 id="Packages"><a href="#Packages" class="headerlink" title="Packages"></a>Packages</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pkg install xorg xdm xterm openbox xf86-video-intel</span><br></pre></td></tr></table></figure><h5 id="Group"><a href="#Group" class="headerlink" title="Group"></a>Group</h5><p>To have hardware accelerated X11 You will also need to add your regular user to the <code>video</code> group.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pw groupmod video -m username</span><br></pre></td></tr></table></figure><h5 id="Login-Class"><a href="#Login-Class" class="headerlink" title="Login Class"></a>Login Class</h5><p>Remember to also add UTF-8 as the default encoding in the <code>/etc/login.conf</code> file as show below. Also, after adding them, run the <code>cap_mkdb /etc/login.conf</code> command as root and relogin with your regular user.</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+:charset=UTF-8:\</span></span><br><span class="line"><span class="addition">+:lang=en_US.UTF-8:\</span></span><br></pre></td></tr></table></figure><p>The UTF-8 encoding â€“ same as in the <code>lang</code> parameter in the <code>/etc/login.conf</code> file â€“ must be added at the begining of your <code>~/.xinitrc</code> file, like that:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LC_ALL&#x3D;en_US.UTF-8</span><br></pre></td></tr></table></figure><h5 id="Kernel-Module"><a href="#Kernel-Module" class="headerlink" title="Kernel Module"></a>Kernel Module</h5><p>Most computers/laptops/servers will have integrated GPU which should be supported by the X11 <code>intel</code> driver and:</p><ul><li><code>/boot/kernel/i915kms.ko</code> from base system</li><li><code>/boot/modules/i915kms.ko</code> from <code>drm-next-kmod</code> package (port moved to graphics/drm-fbsd12.0-kmod on 2018-12-09)</li></ul><p>To add the KMS (Kernel Mode Setting) Intel module loading into the <code>/etc/rc.conf</code> file put the line below into it.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kld_list&#x3D;&quot;$&#123;kld_list&#125; i915kms&quot;</span><br></pre></td></tr></table></figure><p>In case of need to use <code>drm-next-kmod</code> module instead of the base system one, your <code>/etc/rc.conf</code> file would look like that one below.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kld_list&#x3D;&quot;$&#123;kld_list&#125; &#x2F;boot&#x2F;modules&#x2F;i915kms.ko&quot;</span><br></pre></td></tr></table></figure><p>If you find yourself in the situation that the <code>drm-next-kmod</code> would still not support your latest graphics card then you may try the latest version of the <code>drm-next-kmod</code>.</p><h5 id="X11-Window-System-Configuration"><a href="#X11-Window-System-Configuration" class="headerlink" title="X11 Window System Configuration"></a>X11 Window System Configuration</h5><p>You can just configure these parts of X11 server that You need without touching other parts. This individual configuration is done in the <code>/usr/local/etc/X11/xorg.conf.d</code> directory with individual files for each setting.</p><ul><li><p>The DontZap option is to enable the X11 server abort with <code>[CTRL] + [ALT] + [BACKSPACE]</code> shortcut.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;flags.conf</span><br><span class="line">Section &quot;ServerFlags&quot;</span><br><span class="line">  Option &quot;DontZap&quot; &quot;off&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure></li><li><p><code>terminate:ctrl_alt_bksp</code> to allow termination of the X11 server with <code>[CTRL] + [ALT] + [BACKSPACE]</code> shortcut and <code>ctrl:nocaps</code> to ignore the Caps Lock key as I also find that useful.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;keyboard.conf</span><br><span class="line">Section &quot;InputDevice&quot;</span><br><span class="line">  Identifier &quot;Keyboard0&quot;</span><br><span class="line">  Driver &quot;kbd&quot;</span><br><span class="line">  Option &quot;XkbLayout&quot; &quot;us&quot;</span><br><span class="line">  Option &quot;XkbOptions&quot; &quot;terminate:ctrl_alt_bksp,ctrl:nocaps&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure></li><li><p>graphics card configuration</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;card.conf</span><br><span class="line">Section &quot;Device&quot;</span><br><span class="line">  Identifier &quot;Card0&quot;</span><br><span class="line">  Option &quot;DPMS&quot;</span><br><span class="line">  Driver &quot;intel&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure></li></ul><h5 id="XDM-or-XINIT-STARTX"><a href="#XDM-or-XINIT-STARTX" class="headerlink" title="XDM or XINIT/STARTX"></a>XDM or XINIT/STARTX</h5><p>You will also have to decide how You want to start your X11 Window Server, you may login in plan text console and then type <code>xinit</code> or <code>startx</code> to read your <code>~/.xinitrc</code> configuration and daemons or You may want to use X11 Login manager such as <code>xdm/sddm/slim</code> with <code>~/.xsession</code> configuration to load after successful login. The difference between <code>xinit</code> and <code>startx</code> is that <code>startx</code> command executes <code>xinit</code> command with arguments.</p><p>When I use <code>xinit</code> to directly start the X11 server I use an alias to <code>xinit</code> with these parameters:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias x&#x3D;&#39;xinit ~&#x2F;.xinitrc -- -dpi 75 -nolisten tcp&#39;</span><br></pre></td></tr></table></figure><p>I keep that alias in the <code>~/.zshrc</code> file.</p><p>While <code>xinit</code> run commands based on the <code>~/.xinitrc</code> file the XDM login manager looks for the <code>~/.xsession</code> file. As You will be loading same stuff regardless of the startup method we will create a link of <code>~/.xsession</code> pointing to the <code>~/.xinitrc</code> file. This way either method You choose You will always end with started X11 session.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% ln -s ~&#x2F;.xinitrc ~&#x2F;.xsession</span><br></pre></td></tr></table></figure><p>One more case about the <code>~/.xinitrc</code> (or <code>~/.xsession</code>) file. It is interpreted as a shell script (and yes you can do <code>if/then/else/fi</code> and <code>case/esac</code> or <code>for/while</code> POSIX shell scripting in it) but it does not need to be executable. The last command in this file MUST NOT to be put in the background (must be without the <code>&amp;</code> char at the end) because the X11 session will end.</p><h5 id="XDM-Black-Theme"><a href="#XDM-Black-Theme" class="headerlink" title="XDM Black Theme"></a>XDM Black Theme</h5><p>To configure this black XDM theme You will need to modify contents of two files as show below.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xdm&#x2F;Xsetup_0</span><br><span class="line">xsetroot -solid black</span><br></pre></td></tr></table></figure><p>This we will set black background on the login screen on the :<code>0</code> X11 server â€“ the default one.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xdm&#x2F;Xresources</span><br><span class="line">xlogin.Login.greeting:</span><br><span class="line">xlogin.Login.unsecureGreeting:</span><br><span class="line">xlogin.Login.fail:                Fail.</span><br><span class="line">xlogin.Login.changePasswdMessage: Change.</span><br><span class="line">xlogin.Login.namePrompt:          Username:</span><br><span class="line">xlogin.Login.passwdPrompt:        Password:</span><br><span class="line">xlogin.Login.echoPasswd:          true</span><br><span class="line">xlogin.Login.background:          black</span><br><span class="line">xlogin.Login.foreground:          white</span><br><span class="line">xlogin.Login.failColor:           #cccccc</span><br><span class="line">xlogin.Login.inpColor:            black</span><br><span class="line">xlogin.Login.promptColor:         #aaaaaa</span><br><span class="line">xlogin.Login.face:                courier:size&#x3D;13:style&#x3D;Bold</span><br><span class="line">xlogin.Login.failFace:            courier:size&#x3D;13:style&#x3D;Bold</span><br><span class="line">xlogin.Login.promptFace:          courier:size&#x3D;13:style&#x3D;Normal</span><br><span class="line">xlogin.Login.greetFace:           courier:size&#x3D;13</span><br><span class="line">xlogin.Login.width:               400</span><br></pre></td></tr></table></figure><img data-src="/2020/11/28/FreeBSD-Desktop/xdm-black.png" class="" title="FreeBSD"><h5 id="Client-Configuration"><a href="#Client-Configuration" class="headerlink" title="Client Configuration"></a>Client Configuration</h5><p> the simple <code>~/.xinitrc</code> file with <code>Openbox</code> window manager, prestarted <code>xterm</code> terminal and black background for our simple session.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">% cat ~&#x2F;.xinitrc</span><br><span class="line"># SET PROPER locale(1) with LC_ALL VARIABLE.</span><br><span class="line">  export LC_ALL&#x3D;en_US.UTF-8</span><br><span class="line"></span><br><span class="line"># PRESTARTED APPS</span><br><span class="line">  xterm &amp;</span><br><span class="line">  xsetroot -solid black &amp;</span><br><span class="line"></span><br><span class="line"># WINDOW MANAGER</span><br><span class="line">  openbox</span><br></pre></td></tr></table></figure><img data-src="/2020/11/28/FreeBSD-Desktop/desktop.png" class="" title="FreeBSD"><h5 id="Using-modesetting-Driver"><a href="#Using-modesetting-Driver" class="headerlink" title="Using modesetting Driver"></a>Using modesetting Driver</h5><p>If you use <code>i915kms</code> kernel module, you donâ€™t need to install <code>xf86-video-intel</code>, the <code>modesetting</code> generic DDX driver that is built in the X server, will do just well. The xf86-video-intel might even cause you troubles.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;card.conf</span><br><span class="line">Section &quot;Device&quot;</span><br><span class="line">  Identifier &quot;Card0&quot;</span><br><span class="line">  Option &quot;DPMS&quot;</span><br><span class="line">  Driver &quot;modesetting&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure><h5 id="Using-Dedicated-video-Login-Class-Instead-of-Global-One"><a href="#Using-Dedicated-video-Login-Class-Instead-of-Global-One" class="headerlink" title="Using Dedicated video: Login Class Instead of Global One"></a>Using Dedicated video: Login Class Instead of Global One</h5><p>If you modify <code>/etc/login.conf</code>, you are modifying the systemwide locale for the default login class to which all users belong (also user www for Apache, for example).</p><p>Add this login class to the <code>/etc/login.conf</code> file.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">video:\</span><br><span class="line">        :charset&#x3D;UTF-8:\</span><br><span class="line">        :lang&#x3D;en_US.UTF-8:\</span><br><span class="line">        :tc&#x3D;default:</span><br></pre></td></tr></table></figure><p>Rebuild the login class database.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cap_mkdb &#x2F;etc&#x2F;login.conf</span><br></pre></td></tr></table></figure><p>Lets set the login class to video for the vuk user.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pw usermod -L video -n vuk</span><br></pre></td></tr></table></figure><p>How the account looks after setting the login class.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># grep vuk &#x2F;etc&#x2F;master.passwd</span><br><span class="line">vuk:&#123;REMOVED&#125;:1000:1000:video:0:0:vuk:&#x2F;home&#x2F;vuk:&#x2F;bin&#x2F;sh</span><br></pre></td></tr></table></figure><p>Now logout and login again to make that work. View the changes through the <code>locale</code> command.</p><h5 id="Tap-to-Click-on-Synaptics-Touchpad"><a href="#Tap-to-Click-on-Synaptics-Touchpad" class="headerlink" title="Tap to Click on Synaptics Touchpad"></a>Tap to Click on Synaptics Touchpad</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># pkg install xf86-input-synaptics</span><br><span class="line"></span><br><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;touchpad.conf</span><br><span class="line">Section &quot;InputClass&quot;</span><br><span class="line">  Identifier &quot;touchpad&quot;</span><br><span class="line">  MatchIsTouchpad &quot;on&quot;</span><br><span class="line">  Driver &quot;libinput&quot;</span><br><span class="line">  Option &quot;Tapping&quot; &quot;on&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure><h3 id="Key-Components"><a href="#Key-Components" class="headerlink" title="Key Components"></a>Key Components</h3><h5 id="Window-Manager"><a href="#Window-Manager" class="headerlink" title="Window Manager"></a>Window Manager</h5><p>The <span class="exturl" data-url="aHR0cHM6Ly93d3cuYm94LWxvb2sub3JnL3AvMTAxNzgzMi8=">TWM<i class="fa fa-external-link-alt"></i></span> <em>Openbox</em> theme.</p><img data-src="/2020/11/28/FreeBSD-Desktop/openbox-theme-twm.png" class="" title="FreeBSD"><p>If You would like to increase your knowledge about Openbox then check the official documentation: <span class="exturl" data-url="aHR0cDovL29wZW5ib3gub3JnL3dpa2kvTWFpbl9QYWdl">Openbox<i class="fa fa-external-link-alt"></i></span></p><h5 id="Status-Bar"><a href="#Status-Bar" class="headerlink" title="Status Bar"></a>Status Bar</h5><p>Also known as information bar, the place on the screen that would provide You needed information such as current date and time, CPU, RAM and storage usage, current network information or battery status.</p><ul><li>While <code>Xmobar</code> is nice solution it comes with about 2 GB of dependencies of Haskell and Haskell libraries.</li><li>While <code>Polybar</code> can look very nice on screenshots it is a lot more heavy on resources and is limited only to modules/features that were implemented in it.</li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/openbox-polybar.jpg" class="" title="FreeBSD"><ul><li>I have used <code>Conky</code> for quite long time but after recent tests I made <code>Dzen2</code> is a lot less on resources then Conky while doing the same thing. </li></ul><h5 id="Task-Bar"><a href="#Task-Bar" class="headerlink" title="Task Bar"></a>Task Bar</h5><p>A taskbar is an element of a graphical user interface which has various purposes. It typically shows which programs are currently running.</p><ul><li>You can use classic taskbar like <code>XFCE Panel</code> used in the XFCE desktop environment.</li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/taskbar-xfce.png" class="" title="FreeBSD"><ul><li>You can also configure <code>Tint2</code> that way. But it only shows applications that are active on the current desktop.</li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/taskbar-tint-classic.jpg" class="" title="FreeBSD"><ul><li>One of the greatest taskbars of all time was/is the Mac OS X Dock (now macOS Dock).  It also has an indicator showing if application is launched. Currently the best and lightest solution for providing the dock-like functionality on open desktops seems to be <code>Plank</code>.</li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/taskbar-plank-eos.png" class="" title="FreeBSD"><h5 id="Wallpaper-Handling"><a href="#Wallpaper-Handling" class="headerlink" title="Wallpaper Handling"></a>Wallpaper Handling</h5><p>Some people have a set of favorite wallpapers and setup random wallpaper from this set of favorites to show up every once in a while.</p><p>While <code>Feh</code> main/original function is to be ultra fast image viewer it also has an option to properly setup a wallpaper on a X11 desktop.</p><h5 id="Application-Launcher"><a href="#Application-Launcher" class="headerlink" title="Application Launcher"></a>Application Launcher</h5><p>While not being any crucial role of the desktop environment it have its uses and sometimes save time.</p><p>Lets start with resources, the <code>Rofi</code> implementation of application launcher uses almost 3 times more RAM  then <code>Dmenu</code> solution.</p><ul><li>Desktop with Dmenu launched and with <code>alc</code> characters inserted to â€˜filterâ€™ commands in the search of a calculator application.</li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/launcher-dmenu-run.jpg" class="" title="FreeBSD"><ul><li><p>The Rofi requires simple command.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% rofi -show run -theme solarized_alternate -font &quot;Monaco 8&quot;</span><br></pre></td></tr></table></figure></li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/launcher-rofi.jpg" class="" title="FreeBSD"><h5 id="Keyboard-Mouse-Shortcuts"><a href="#Keyboard-Mouse-Shortcuts" class="headerlink" title="Keyboard/Mouse Shortcuts"></a>Keyboard/Mouse Shortcuts</h5><p>While most window managers and desktop environments offer some kind of shortcuts or tools to define your own ones. its often quite complicated to force them to do exactly what you want. </p><ul><li>The <code>xev</code> is used to read what has keyboard key has been pressed or which mouse button was used.</li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/keyboard-xev.jpg" class="" title="FreeBSD"><ul><li>The <code>Xmodmap</code> is used to assign or rename keys to make something different.</li><li>Similarly like xev the <code>xbindkeys</code> comes with its own window to catch events.</li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/keyboard-xbindkeys.jpg" class="" title="FreeBSD"><ul><li>Sometimes you want to fake that some keys were pressed â€“ but without pressing them. This is where <code>xdotool</code> comes handy â€“ it can generate any keyboard shortcut and send it to and application in X11 environment. </li></ul><h5 id="Locking-Solution"><a href="#Locking-Solution" class="headerlink" title="Locking Solution"></a>Locking Solution</h5><ul><li>From all the nice looking solutions providing screen lock on the X11 I found <code>mate-screensaver</code> the best choice for this task ( saves battery time ). The mate-screensaver has to be started and run in the background with, well <code>mate-screensaver</code> command â€“ placed somewhere in the <code>~/.xinitrc</code> or <code>~/.xsession</code> file. Then we would be able to invoke <code>mate-screensaver-command --lock</code> command to make the actual screen lock.</li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/locker-mate-screensaver.png" class="" title="FreeBSD"><ul><li><p>When mate-screensaver will not be available or functional we will use <code>xlock</code> as failover solution. The xlock tool appearance can be configured by specifying arguments.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">FONT&#x3D;&#39;-*-fixed-*-*-*-*-10-*-*-*-*-*-iso8859-2&#39;</span><br><span class="line">xlock \</span><br><span class="line">  -mode image \</span><br><span class="line">  -planfont &quot;$&#123;FONT&#125;&quot; \</span><br><span class="line">  -font     &quot;$&#123;FONT&#125;&quot; \</span><br><span class="line">  -username &#39;user: &#39; \</span><br><span class="line">  -password &#39;pass:&#39; \</span><br><span class="line">  -info &#39; &#39; \</span><br><span class="line">  -validate &#39;Checking.&#39; \</span><br><span class="line">  -invalid &#39;Nope. &#39; \</span><br><span class="line">  -background gray20 \</span><br><span class="line">  -foreground gray60 \</span><br><span class="line">  -dpmsoff 1 \</span><br><span class="line">  -icongeometry 64x64 \</span><br><span class="line">  -echokeys \</span><br><span class="line">  -echokey &#39;*&#39; \</span><br><span class="line">  -bitmap &#x2F;home&#x2F;vermaden&#x2F;.icons&#x2F;vermaden&#x2F;xlock.xpm \</span><br><span class="line">  -count 1 \</span><br><span class="line">  -delay 10000000 \</span><br><span class="line">  -erasemode no_fade \</span><br><span class="line">  +showdate \</span><br><span class="line">  +description</span><br></pre></td></tr></table></figure></li></ul><img data-src="/2020/11/28/FreeBSD-Desktop/xlock-user-pass.png" class="" title="FreeBSD"><ul><li><p>The <code>xautolock</code> will be used to automatically lock the screen (invoke mate-screensaver or xlock command) after defined period of inactivity time.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">% xautolock \</span><br><span class="line">    -time 1 \</span><br><span class="line">    -locker \</span><br><span class="line">    ~&#x2F;bin&#x2F;example-lock-handler.sh \</span><br><span class="line">    -resetsaver</span><br></pre></td></tr></table></figure><p>The xautolock also has to be started and run in the background using the <code>~/.xinitrc</code> or <code>~/.xsession</code> file.</p></li></ul><h5 id="Blue-Light-Spectrum-Suppress"><a href="#Blue-Light-Spectrum-Suppress" class="headerlink" title="Blue Light Spectrum Suppress"></a>Blue Light Spectrum Suppress</h5><p>Automatically adjusts color temperature of the screen according to your current time in your location.</p><ul><li><p>While <span class="exturl" data-url="aHR0cHM6Ly9qdXN0Z2V0Zmx1eC5jb20v">F.lux<i class="fa fa-external-link-alt"></i></span>  (closed source) does not provide a native binary for FreeBSD it does offer such binary for Linux and as FreeBSD provides Linux Binary Compatibility its possible to use it on FreeBSD. To use F.lux just start it in the <code>~/.xinitrc</code> or <code>~/.xsession</code> file like that.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~&#x2F;path&#x2F;to&#x2F;bin&#x2F;xflux -l 33.54321 -g 11.12345 &amp;</span><br></pre></td></tr></table></figure><p>Of course 33.54321 is latitude and 11.12345 is longitude of your localization.</p></li><li><p><code>Redshift</code> is the solution that I propose to use as open source blue light spectrum suppressor. Similarly like with the F.lux to start Redshift just put it in the <code>~/.xinitrc</code> or <code>~/.xsession</code> file like that.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% redshift -l 33.54321:11.12345 -g 0.9 &amp;</span><br></pre></td></tr></table></figure></li><li><p>Someone else suggested trying <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtaXIvc2N0ZA==">sctd<i class="fa fa-external-link-alt"></i></span> which is sct but rewritten/modified to be a daemon that will automatically change the color temperature during the day (or night). The sctd uses smaller about of RAM memory, uses less libraries and size of these libraries is smaller then what redshfit needs. </p></li></ul><h3 id="å‚è§"><a href="#å‚è§" class="headerlink" title="å‚è§"></a>å‚è§</h3><p><span class="exturl" data-url="aHR0cHM6Ly92ZXJtYWRlbi53b3JkcHJlc3MuY29tL2ZyZWVic2QtZGVza3RvcC8=">FreeBSD Desktop | ğšŸğšğš›ğš–ğšŠğšğšğš— (wordpress.com)<i class="fa fa-external-link-alt"></i></span></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;The FreeBSD Desktop series are about creating efficient desktop environment on the FreeBSD system.&lt;/p&gt;</summary>
    
    
    
    
    <category term="Unix" scheme="https://vanehsiung.github.io/tags/Unix/"/>
    
  </entry>
  
  <entry>
    <title>Microservices</title>
    <link href="https://vanehsiung.github.io/2020/11/26/Microservices/"/>
    <id>https://vanehsiung.github.io/2020/11/26/Microservices/</id>
    <published>2020-11-26T06:17:19.000Z</published>
    <updated>2020-11-26T12:22:41.839Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>å®šä¹‰ï¼šâ€œå¾®æœåŠ¡æ¶æ„â€è¿™ä¸ªæœ¯è¯­æè¿°è¿™æ ·ä¸€ç§ç‰¹å®šçš„è½¯ä»¶è®¾è®¡æ–¹æ³•ï¼Œå³ä»¥è‹¥å¹²ç»„å¯ç‹¬ç«‹éƒ¨ç½²çš„æœåŠ¡çš„æ–¹å¼è¿›è¡Œè½¯ä»¶åº”ç”¨ç³»ç»Ÿçš„è®¾è®¡ã€‚</p><a id="more"></a><h3 id="å•ä½“åº”ç”¨"><a href="#å•ä½“åº”ç”¨" class="headerlink" title="å•ä½“åº”ç”¨"></a>å•ä½“åº”ç”¨</h3><p>ä¸€ä¸ªå•ä½“åº”ç”¨ç³»ç»Ÿï¼ˆå³æœåŠ¡ç«¯åº”ç”¨ç³»ç»Ÿï¼Œä¸€ä¸ªå•ä¸ªå¯æ‰§è¡Œçš„é€»è¾‘ç¨‹åºï¼‰æ˜¯ä»¥ä¸€ä¸ªå•ä¸ªå•å…ƒçš„æ–¹å¼æ¥æ„å»ºçš„ã€‚å¤„ç†ç”¨æˆ·è¯·æ±‚çš„æ‰€æœ‰é€»è¾‘éƒ½è¿è¡Œåœ¨ä¸€ä¸ªå•ä¸ªçš„è¿›ç¨‹å†…ã€‚é€šè¿‡ç²¾å¿ƒè®¾è®¡ï¼Œå°±èƒ½åœ¨å¼€å‘äººå‘˜çš„ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œå’Œæµ‹è¯•è¿™æ ·çš„åº”ç”¨ç³»ç»Ÿï¼Œå¹¶ä¸”ä½¿ç”¨ä¸€ä¸ªéƒ¨ç½²æµæ°´çº¿æ¥ç¡®ä¿å˜æ›´è¢«å¾ˆå¥½åœ°è¿›è¡Œäº†æµ‹è¯•ï¼Œç„¶åéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ã€‚ä½†æ˜¯æ¸æ¸åœ°ï¼Œç‰¹åˆ«æ˜¯éšç€è¶Šæ¥è¶Šå¤šçš„åº”ç”¨ç³»ç»Ÿæ­£è¢«éƒ¨ç½²åˆ°äº‘ç«¯ï¼Œè½¯ä»¶å˜æ›´å—åˆ°äº†å¾ˆå¤§çš„é™åˆ¶ï¼Œåº”ç”¨ç³»ç»Ÿçš„ä¸€ä¸ªå¾ˆå°çš„éƒ¨åˆ†çš„ä¸€å¤„å˜æ›´ï¼Œä¹Ÿéœ€è¦å°†æ•´ä¸ªå•ä½“åº”ç”¨ç³»ç»Ÿè¿›è¡Œé‡æ–°æ„å»ºå’Œéƒ¨ç½²ã€‚è¿™å¯¼è‡´äº†å¾®æœåŠ¡æ¶æ„é£æ ¼çš„è¯ç”Ÿï¼šä»¥æ„å»ºä¸€ç»„å°å‹æœåŠ¡çš„æ–¹å¼æ¥æ„å»ºåº”ç”¨ç³»ç»Ÿã€‚</p><h5 id="å•ä½“åº”ç”¨æ¶æ„"><a href="#å•ä½“åº”ç”¨æ¶æ„" class="headerlink" title="å•ä½“åº”ç”¨æ¶æ„"></a>å•ä½“åº”ç”¨æ¶æ„</h5><p>ä¸€ä¸ªå•ä½“åº”ç”¨ï¼Œå¾€å¾€å°†åº”ç”¨æ‰€æœ‰åŠŸèƒ½éƒ½æ‰“åŒ…åœ¨ä¸€èµ·ï¼š</p><img data-src="/2020/11/26/Microservices/monolithic0.webp" class="" title="monolithic"><p>å½“ç”¨æˆ·è®¿é—®é‡å˜å¤§å¯¼è‡´ä¸€å°æœåŠ¡å™¨æ— æ³•æ”¯æ’‘æ—¶ï¼Œå°±åŠ æœåŠ¡å™¨åŠ è´Ÿè½½å‡è¡¡ï¼š</p><img data-src="/2020/11/26/Microservices/monolithic1.webp" class="" title="monolithic"><p>ä¹‹åæŠŠé™æ€æ–‡ä»¶ç‹¬ç«‹å‡ºæ¥ï¼Œé€šè¿‡ CDN ç­‰è¿›è¡ŒåŠ é€Ÿï¼Œæå‡å•ä½“åº”ç”¨çš„æ•´ä½“å“åº”ï¼š</p><img data-src="/2020/11/26/Microservices/monolithic2.webp" class="" title="monolithic"><h3 id="å¾®æœåŠ¡"><a href="#å¾®æœåŠ¡" class="headerlink" title="å¾®æœåŠ¡"></a>å¾®æœåŠ¡</h3><p>å¾®æœåŠ¡æ¶æ„é£æ ¼è¿™ç§å¼€å‘æ–¹æ³•ï¼Œæ˜¯ä»¥å¼€å‘ä¸€ç»„å°å‹æœåŠ¡çš„æ–¹å¼æ¥å¼€å‘ä¸€ä¸ªç‹¬ç«‹çš„åº”ç”¨ç³»ç»Ÿçš„ã€‚å…¶ä¸­æ¯ä¸ªå°å‹æœåŠ¡éƒ½è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼Œå¹¶ç»å¸¸é‡‡ç”¨HTTPèµ„æºAPIè¿™æ ·è½»é‡çš„æœºåˆ¶æ¥ç›¸äº’é€šä¿¡ã€‚è¿™äº›æœåŠ¡å›´ç»•ä¸šåŠ¡åŠŸèƒ½è¿›è¡Œæ„å»ºï¼Œå¹¶èƒ½é€šè¿‡å…¨è‡ªåŠ¨çš„éƒ¨ç½²æœºåˆ¶æ¥è¿›è¡Œç‹¬ç«‹éƒ¨ç½²ã€‚è¿™äº›å¾®æœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯­è¨€æ¥ç¼–å†™ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ•°æ®å­˜å‚¨æŠ€æœ¯ã€‚å¯¹è¿™äº›å¾®æœåŠ¡æˆ‘ä»¬ä»…åšæœ€ä½é™åº¦çš„é›†ä¸­ç®¡ç†ã€‚</p><img data-src="/2020/11/26/Microservices/microservices0.webp" class="" title="microservices"><h5 id="å¾®æœåŠ¡æ¶æ„"><a href="#å¾®æœåŠ¡æ¶æ„" class="headerlink" title="å¾®æœåŠ¡æ¶æ„"></a>å¾®æœåŠ¡æ¶æ„</h5><p>å¾®æœåŠ¡æ¶æ„ï¼Œæ ¸å¿ƒæ˜¯ä¸ºäº†è§£å†³åº”ç”¨å¾®æœåŠ¡ä¹‹åçš„æœåŠ¡æ²»ç†é—®é¢˜ã€‚</p><p>ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯æœåŠ¡å‘ç°é—®é¢˜ï¼Œè§£å†³æ–¹æ³•æ˜¯æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼š</p><img data-src="/2020/11/26/Microservices/microservices6.webp" class="" title="microservices"><p>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯æœåŠ¡é…ç½®ç®¡ç†çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯é…ç½®ä¸­å¿ƒï¼š</p><img data-src="/2020/11/26/Microservices/microservices7.webp" class="" title="microservices"><p>ä»¥ä¸Šæ˜¯åº”ç”¨å†…éƒ¨çš„æœåŠ¡æ²»ç†ï¼Œå½“å®¢æˆ·ç«¯æˆ–å¤–éƒ¨åº”ç”¨è°ƒç”¨æœåŠ¡çš„æ—¶å€™å°±éœ€è¦ä½¿ç”¨åˆ°æœåŠ¡ç½‘å…³æä¾›ç»Ÿä¸€çš„æœåŠ¡å…¥å£ï¼Œæœ€ç»ˆå½¢æˆå…¸å‹å¾®æœåŠ¡æ¶æ„ï¼š</p><img data-src="/2020/11/26/Microservices/microservices8.webp" class="" title="microservices"><h3 id="å¾®æœåŠ¡æ¶æ„çš„ä¹å¤§ç‰¹æ€§"><a href="#å¾®æœåŠ¡æ¶æ„çš„ä¹å¤§ç‰¹æ€§" class="headerlink" title="å¾®æœåŠ¡æ¶æ„çš„ä¹å¤§ç‰¹æ€§"></a>å¾®æœåŠ¡æ¶æ„çš„ä¹å¤§ç‰¹æ€§</h3><p>ä¸å­˜åœ¨å¾®æœåŠ¡æ¶æ„é£æ ¼çš„æ­£å¼å®šä¹‰ã€‚ä½†æ˜¯å¯ä»¥æè¿°æ‰€è§åˆ°çš„èƒ½å¤Ÿè¢«è´´ä¸Šå¾®æœåŠ¡æ ‡ç­¾çš„é‚£äº›æ¶æ„çš„å…±æ€§ã€‚</p><h5 id="ç‰¹æ€§ä¸€ï¼šâ€œç»„ä»¶åŒ–â€ä¸â€œå¤šæœåŠ¡â€"><a href="#ç‰¹æ€§ä¸€ï¼šâ€œç»„ä»¶åŒ–â€ä¸â€œå¤šæœåŠ¡â€" class="headerlink" title="ç‰¹æ€§ä¸€ï¼šâ€œç»„ä»¶åŒ–â€ä¸â€œå¤šæœåŠ¡â€"></a>ç‰¹æ€§ä¸€ï¼šâ€œç»„ä»¶åŒ–â€ä¸â€œå¤šæœåŠ¡â€</h5><p>å¾®æœåŠ¡æ¶æ„ä¹Ÿä¼šä½¿ç”¨è½¯ä»¶åº“ï¼Œä½†å…¶å°†è‡ªèº«è½¯ä»¶è¿›è¡Œç»„ä»¶åŒ–çš„ä¸»è¦æ–¹æ³•æ˜¯å°†è½¯ä»¶åˆ†è§£ä¸ºè¯¸å¤šæœåŠ¡ã€‚</p><ul><li>ç»„ä»¶å®šä¹‰ï¼šä¸€ä¸ªç»„ä»¶å°±æ˜¯ä¸€ä¸ªå¯ä»¥ç‹¬ç«‹æ›´æ¢å’Œå‡çº§çš„è½¯ä»¶å•å…ƒã€‚</li><li>è½¯ä»¶åº“å®šä¹‰ï¼šå®ƒèƒ½è¢«é“¾æ¥åˆ°ä¸€æ®µç¨‹åºï¼Œä¸”èƒ½é€šè¿‡å†…å­˜ä¸­çš„å‡½æ•°æ¥è¿›è¡Œè°ƒç”¨ã€‚æ˜¯è¿›ç¨‹å†…çš„ç»„ä»¶ã€‚</li><li>æœåŠ¡ï¼šæ˜¯è¿›ç¨‹å¤–çš„ç»„ä»¶ï¼Œå®ƒä»¬é€šè¿‡è¯¸å¦‚web serviceè¯·æ±‚æˆ–è¿œç¨‹è¿‡ç¨‹è°ƒç”¨è¿™æ ·çš„æœºåˆ¶æ¥è¿›è¡Œé€šä¿¡ã€‚</li></ul><p>ä»¥ä½¿ç”¨æœåŠ¡ï¼ˆè€Œä¸æ˜¯ä»¥è½¯ä»¶åº“ï¼‰çš„æ–¹å¼æ¥å®ç°ç»„ä»¶åŒ–çš„åŸå› æ˜¯ï¼š</p><ul><li>æœåŠ¡å¯è¢«ç‹¬ç«‹éƒ¨ç½²ã€‚å¦‚æœä¸€ä¸ªåº”ç”¨ç³»ç»Ÿç”±åœ¨å•ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªè½¯ä»¶åº“æ‰€ç»„æˆï¼Œé‚£ä¹ˆå¯¹ä»»ä¸€ç»„ä»¶åšä¸€å¤„ä¿®æ”¹ï¼Œéƒ½ä¸å¾—ä¸é‡æ–°éƒ¨ç½²æ•´ä¸ªåº”ç”¨ç³»ç»Ÿã€‚ä½†æ˜¯å¦‚æœè¯¥åº”ç”¨ç³»ç»Ÿè¢«åˆ†è§£ä¸ºå¤šä¸ªæœåŠ¡ï¼Œé‚£ä¹ˆå¯¹äºä¸€ä¸ªæœåŠ¡çš„å¤šå¤„ä¿®æ”¹ï¼Œä»…éœ€è¦é‡æ–°éƒ¨ç½²è¿™ä¸€ä¸ªæœåŠ¡ã€‚</li><li>èƒ½è·å¾—æ›´åŠ æ˜¾å¼çš„ç»„ä»¶æ¥å£ã€‚é€šè¿‡ä½¿ç”¨æ˜¾å¼çš„è¿œç¨‹è°ƒç”¨æœºåˆ¶ï¼ŒæœåŠ¡èƒ½æ›´å®¹æ˜“åœ°é¿å…å®¢æˆ·ç«¯ç ´åç»„ä»¶çš„å°è£…ï¼Œä»è€Œå¯¼è‡´ç»„ä»¶é—´å‡ºç°è¿‡åº¦ç´§å¯†çš„è€¦åˆã€‚</li></ul><p>ä¸è¶³ï¼š</p><ul><li>æ¯”èµ·è¿›ç¨‹å†…è°ƒç”¨ï¼Œè¿œç¨‹è°ƒç”¨æ›´åŠ æ˜‚è´µã€‚</li><li>å¦‚æœéœ€è¦ä¿®æ”¹ç»„ä»¶é—´çš„èŒè´£åˆ†é…ï¼Œé‚£ä¹ˆå½“è·¨è¶Šè¿›ç¨‹è¾¹ç•Œæ—¶ï¼Œè¿™ç§ç»„ä»¶è¡Œä¸ºçš„æ”¹åŠ¨ä¼šæ›´åŠ éš¾ä»¥å®ç°ã€‚</li></ul><h5 id="ç‰¹æ€§äºŒï¼šå›´ç»•â€œä¸šåŠ¡åŠŸèƒ½â€ç»„ç»‡å›¢é˜Ÿ"><a href="#ç‰¹æ€§äºŒï¼šå›´ç»•â€œä¸šåŠ¡åŠŸèƒ½â€ç»„ç»‡å›¢é˜Ÿ" class="headerlink" title="ç‰¹æ€§äºŒï¼šå›´ç»•â€œä¸šåŠ¡åŠŸèƒ½â€ç»„ç»‡å›¢é˜Ÿ"></a>ç‰¹æ€§äºŒï¼šå›´ç»•â€œä¸šåŠ¡åŠŸèƒ½â€ç»„ç»‡å›¢é˜Ÿ</h5><p>åº·å¨å®šå¾‹ï¼š</p><blockquote><p>ä»»ä½•è®¾è®¡ï¼ˆå¹¿ä¹‰ä¸Šçš„ï¼‰ç³»ç»Ÿçš„ç»„ç»‡ï¼Œéƒ½ä¼šäº§ç”Ÿè¿™æ ·ä¸€ä¸ªè®¾è®¡ï¼Œå³è¯¥è®¾è®¡çš„ç»“æ„ä¸è¯¥ç»„ç»‡çš„æ²Ÿé€šç»“æ„ç›¸ä¸€è‡´ã€‚</p><footer><strong>Melvyn Conway</strong></footer></blockquote><p>å½“åœ¨å¯»æ±‚å°†ä¸€ä¸ªå¤§å‹åº”ç”¨ç³»ç»Ÿåˆ†è§£æˆå‡ éƒ¨åˆ†æ—¶ï¼Œå…¬å¸ç®¡ç†å±‚å¾€å¾€ä¼šèšç„¦åœ¨æŠ€æœ¯å±‚é¢ä¸Šã€‚è¿™ä¼šå¯¼è‡´ç»„å»ºç”¨æˆ·ç•Œé¢å›¢é˜Ÿã€æœåŠ¡å™¨ç«¯å›¢é˜Ÿå’Œæ•°æ®åº“å›¢é˜Ÿã€‚</p><img data-src="/2020/11/26/Microservices/microservices1.webp" class="" title="microservices"><p>å½“å›¢é˜Ÿæ²¿ç€è¿™äº›æŠ€æœ¯çº¿åˆ†å¼€åï¼Œå³ä½¿è¦å®ç°è½¯ä»¶ä¸€ä¸ªç®€å•çš„å˜æ›´ï¼Œä¹Ÿä¼šå¯¼è‡´è·¨å›¢é˜Ÿçš„é¡¹ç›®æ—¶å»¶å’Œé¢„ç®—å®¡æ‰¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œèªæ˜çš„å›¢é˜Ÿä¼šè¿›è¡Œå±€éƒ¨ä¼˜åŒ–ï¼Œç›´æ¥æŠŠä»£ç é€»è¾‘å¡åˆ°ä»–ä»¬èƒ½è®¿é—®åˆ°çš„ä»»æ„åº”ç”¨ç³»ç»Ÿä¸­ã€‚</p><p>å¾®æœåŠ¡æ ¹æ®ä¸šåŠ¡åŠŸèƒ½æ¥å°†ç³»ç»Ÿåˆ†è§£ä¸ºè‹¥å¹²æœåŠ¡ã€‚è¿™äº›æœåŠ¡é’ˆå¯¹è¯¥ä¸šåŠ¡é¢†åŸŸæä¾›å¤šå±‚æ¬¡å¹¿æ³›çš„è½¯ä»¶å®ç°ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç•Œé¢ã€æŒä¹…æ€§å­˜å‚¨ä»¥åŠä»»ä½•å¯¹å¤–çš„åä½œæ€§æ“ä½œã€‚å› æ­¤ï¼Œå›¢é˜Ÿæ˜¯è·¨èŒèƒ½çš„ã€‚</p><img data-src="/2020/11/26/Microservices/microservices2.webp" class="" title="microservices"><h5 id="ç‰¹æ€§ä¸‰ï¼šâ€œåšäº§å“â€è€Œä¸æ˜¯â€œåšé¡¹ç›®â€"><a href="#ç‰¹æ€§ä¸‰ï¼šâ€œåšäº§å“â€è€Œä¸æ˜¯â€œåšé¡¹ç›®â€" class="headerlink" title="ç‰¹æ€§ä¸‰ï¼šâ€œåšäº§å“â€è€Œä¸æ˜¯â€œåšé¡¹ç›®â€"></a>ç‰¹æ€§ä¸‰ï¼šâ€œåšäº§å“â€è€Œä¸æ˜¯â€œåšé¡¹ç›®â€</h5><p>é¡¹ç›®æ¨¡å‹ï¼šç›®æ ‡æ˜¯äº¤ä»˜æŸä¸€å—è½¯ä»¶ã€‚ä¸€æ—¦å®Œå·¥åï¼Œè½¯ä»¶å°±è¢«ç§»äº¤ç»™ç»´æŠ¤å›¢é˜Ÿï¼Œæ„å»ºè¯¥è½¯ä»¶çš„é¡¹ç›®å›¢é˜Ÿå°±ä¼šè¢«è§£æ•£ã€‚</p><p>å¾®æœåŠ¡æ¨¡å‹ï¼ˆäº§å“ç†å¿µï¼‰ï¼šä¸€ä¸ªå›¢é˜Ÿåœ¨ä¸€ä¸ªäº§å“çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­éƒ½åº”è¯¥ä¿æŒå¯¹å…¶æ‹¥æœ‰ã€‚è¿™ä¼šä½¿å¼€å‘äººå‘˜æ¯å¤©éƒ½ä¼šå…³æ³¨è½¯ä»¶æ˜¯å¦‚ä½•åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹è¿è¡Œçš„ï¼Œå¹¶ä¸”å¢è¿›ä»–ä»¬ä¸ç”¨æˆ·çš„è”ç³»ï¼Œå› ä¸ºä»–ä»¬å¿…é¡»æ‰¿æ‹…æŸäº›æ”¯æŒå·¥ä½œã€‚</p><h5 id="ç‰¹æ€§å››ï¼šâ€œæ™ºèƒ½ç«¯ç‚¹â€ä¸â€œå‚»ç“œç®¡é“â€"><a href="#ç‰¹æ€§å››ï¼šâ€œæ™ºèƒ½ç«¯ç‚¹â€ä¸â€œå‚»ç“œç®¡é“â€" class="headerlink" title="ç‰¹æ€§å››ï¼šâ€œæ™ºèƒ½ç«¯ç‚¹â€ä¸â€œå‚»ç“œç®¡é“â€"></a>ç‰¹æ€§å››ï¼šâ€œæ™ºèƒ½ç«¯ç‚¹â€ä¸â€œå‚»ç“œç®¡é“â€</h5><p>å½“åœ¨ä¸åŒçš„è¿›ç¨‹ä¹‹é—´æ„å»ºå„ç§é€šä¿¡ç»“æ„æ—¶ï¼Œè®¸å¤šäº§å“å’Œæ–¹æ³•å¼ºè°ƒå°†å¤§é‡çš„æ™ºèƒ½ç‰¹æ€§çº³å…¥é€šä¿¡æœºåˆ¶æœ¬èº«ã€‚</p><p>å¾®æœåŠ¡ç¤¾åŒºä¸»å¼ æ™ºèƒ½ç«¯ç‚¹å’Œå‚»ç“œç®¡é“ã€‚ä½¿ç”¨å¾®æœåŠ¡æ‰€æ„å»ºçš„å„ä¸ªåº”ç”¨çš„ç›®æ ‡ï¼Œéƒ½æ˜¯å°½å¯èƒ½åœ°å®ç°â€œé«˜å†…èšå’Œä½è€¦åˆâ€â€”â€”ä»–ä»¬æ‹¥æœ‰è‡ªå·±çš„é¢†åŸŸé€»è¾‘ï¼Œå¹¶ä¸”æ›´å¤šåœ°æ˜¯åƒç»å…¸Unixçš„â€œè¿‡æ»¤å™¨â€é‚£æ ·æ¥å·¥ä½œã€‚è¿™äº›åº”ç”¨é€šè¿‡ä½¿ç”¨ä¸€äº›ç®€å•çš„RESTé£æ ¼çš„åè®®æ¥è¿›è¡Œç¼–åˆ¶ï¼Œè€Œä¸å»ä½¿ç”¨å¤æ‚çš„åè®®ã€‚</p><p>å¾®æœåŠ¡æœ€å¸¸ç”¨çš„ä¸¤ç§åè®®æ˜¯ï¼šå¸¦æœ‰èµ„æºAPIçš„HTTPâ€œè¯·æ±‚ï¼å“åº”â€åè®®ï¼Œå’Œè½»é‡çº§çš„æ¶ˆæ¯å‘é€åè®®ã€‚å¯¹äºå‰ä¸€ç§åè®®çš„æœ€ä½³è¡¨è¿°æ˜¯ï¼š</p><blockquote><p>Be of the web, not behind the web</p><footer><strong>Ian Robinson</strong></footer></blockquote><h5 id="ç‰¹æ€§äº”ï¼šâ€œå»ä¸­å¿ƒåŒ–â€åœ°æ²»ç†æŠ€æœ¯"><a href="#ç‰¹æ€§äº”ï¼šâ€œå»ä¸­å¿ƒåŒ–â€åœ°æ²»ç†æŠ€æœ¯" class="headerlink" title="ç‰¹æ€§äº”ï¼šâ€œå»ä¸­å¿ƒåŒ–â€åœ°æ²»ç†æŠ€æœ¯"></a>ç‰¹æ€§äº”ï¼šâ€œå»ä¸­å¿ƒåŒ–â€åœ°æ²»ç†æŠ€æœ¯</h5><p>ä½¿ç”¨ä¸­å¿ƒåŒ–çš„æ–¹å¼æ¥å¯¹å¼€å‘è¿›è¡Œæ²»ç†ï¼Œå…¶ä¸­ä¸€ä¸ªåæœï¼Œå°±æ˜¯è¶‹å‘äºåœ¨å•ä¸€æŠ€æœ¯å¹³å°ä¸Šåˆ¶å®šæ ‡å‡†ã€‚æˆ‘ä»¬æ›´å–œæ¬¢æ ¹æ®å·¥ä½œçš„ä¸åŒæ¥é€‰ç”¨åˆç†çš„å·¥å…·ã€‚</p><h5 id="ç‰¹æ€§å…­ï¼šâ€œå»ä¸­å¿ƒåŒ–â€åœ°ç®¡ç†æ•°æ®"><a href="#ç‰¹æ€§å…­ï¼šâ€œå»ä¸­å¿ƒåŒ–â€åœ°ç®¡ç†æ•°æ®" class="headerlink" title="ç‰¹æ€§å…­ï¼šâ€œå»ä¸­å¿ƒåŒ–â€åœ°ç®¡ç†æ•°æ®"></a>ç‰¹æ€§å…­ï¼šâ€œå»ä¸­å¿ƒåŒ–â€åœ°ç®¡ç†æ•°æ®</h5><p>å»ä¸­å¿ƒåŒ–åœ°ç®¡ç†æ•°æ®ï¼Œå…¶è¡¨ç°å½¢å¼å¤šç§å¤šæ ·ã€‚ä»æœ€æŠ½è±¡çš„å±‚é¢çœ‹ï¼Œè¿™æ„å‘³ç€å„ä¸ªç³»ç»Ÿå¯¹å®¢è§‚ä¸–ç•Œæ‰€æ„å»ºçš„æ¦‚å¿µæ¨¡å‹ï¼Œå°†å½¼æ­¤å„ä¸ç›¸åŒã€‚å¾®æœåŠ¡è¶‹å‘ä½¿ç”¨â€œå®æˆ˜æ£€éªŒâ€çš„æ ‡å‡†è€Œéâ€œå¼ºåˆ¶æ‰§è¡Œâ€çš„æ ‡å‡†ã€‚</p><p>å¦‚åŒåœ¨æ¦‚å¿µæ¨¡å‹ä¸Šè¿›è¡Œå»ä¸­å¿ƒåŒ–çš„å†³ç­–ä¸€æ ·ï¼Œå¾®æœåŠ¡ä¹Ÿåœ¨æ•°æ®å­˜å‚¨ä¸Šè¿›è¡Œå»ä¸­å¿ƒåŒ–çš„å†³ç­–ã€‚å•ä½“åº”ç”¨åœ¨é€»è¾‘ä¸Šå„è‡ªä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„æ•°æ®åº“æ¥æŒä¹…åŒ–æ•°æ®ï¼Œä½†æ˜¯å„å®¶ä¼ä¸šå¾€å¾€å–œæ¬¢ä¸€ç³»åˆ—å•ä½“åº”ç”¨å…±ç”¨ä¸€ä¸ªå•ç‹¬çš„æ•°æ®åº“ã€‚å¾®æœåŠ¡æ›´å–œæ¬¢è®©æ¯ä¸€ä¸ªæœåŠ¡æ¥ç®¡ç†å…¶è‡ªæœ‰æ•°æ®åº“ã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä½œâ€œå¤šè¯­ç§æŒä¹…åŒ–â€ã€‚</p><img data-src="/2020/11/26/Microservices/microservices3.webp" class="" title="microservices"><h5 id="ç‰¹æ€§ä¸ƒï¼šâ€œåŸºç¡€è®¾æ–½â€è‡ªåŠ¨åŒ–"><a href="#ç‰¹æ€§ä¸ƒï¼šâ€œåŸºç¡€è®¾æ–½â€è‡ªåŠ¨åŒ–" class="headerlink" title="ç‰¹æ€§ä¸ƒï¼šâ€œåŸºç¡€è®¾æ–½â€è‡ªåŠ¨åŒ–"></a>ç‰¹æ€§ä¸ƒï¼šâ€œåŸºç¡€è®¾æ–½â€è‡ªåŠ¨åŒ–</h5><p>åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ–æŠ€æœ¯å·²ç»å¾—åˆ°é•¿è¶³çš„å‘å±•ã€‚äº‘çš„æ¼”è¿›ï¼Œç‰¹åˆ«æ˜¯AWSçš„å‘å±•ï¼Œå·²ç»é™ä½äº†æ„å»ºã€éƒ¨ç½²å’Œè¿ç»´å¾®æœåŠ¡çš„æ“ä½œå¤æ‚æ€§ã€‚</p><p>æ„å»ºæµæ°´çº¿ï¼š</p><img data-src="/2020/11/26/Microservices/microservices4.webp" class="" title="microservices"><p>éƒ¨ç½²åœ¨å•å—ç³»ç»Ÿå’Œå¾®æœåŠ¡ä¸Šæ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ç„¶è€Œï¼Œä¸¤è€…åœ¨è¿ç»´é¢†åŸŸçš„æƒ…å†µå´æˆªç„¶ä¸åŒï¼š</p><img data-src="/2020/11/26/Microservices/microservices5.webp" class="" title="microservices"><h5 id="ç‰¹æ€§å…«ï¼šâ€œå®¹é”™â€è®¾è®¡"><a href="#ç‰¹æ€§å…«ï¼šâ€œå®¹é”™â€è®¾è®¡" class="headerlink" title="ç‰¹æ€§å…«ï¼šâ€œå®¹é”™â€è®¾è®¡"></a>ç‰¹æ€§å…«ï¼šâ€œå®¹é”™â€è®¾è®¡</h5><p>ä½¿ç”¨å„ä¸ªå¾®æœåŠ¡æ¥æ›¿ä»£ç»„ä»¶ï¼Œå…¶ç»“æœæ˜¯å„ä¸ªåº”ç”¨ç¨‹åºéœ€è¦è®¾è®¡æˆèƒ½å¤Ÿå®¹å¿è¿™äº›æœåŠ¡æ‰€å‡ºç°çš„æ•…éšœã€‚</p><p>å› ä¸ºå„ä¸ªæœåŠ¡å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å‘ç”Ÿæ•…éšœï¼Œæ‰€ä»¥ä¸¤ä»¶äº‹å°±å˜å¾—å¾ˆé‡è¦ï¼Œå³èƒ½å¤Ÿå¿«é€Ÿåœ°æ£€æµ‹å‡ºæ•…éšœï¼Œä¸”åœ¨å¯èƒ½çš„æƒ…å†µä¸‹èƒ½å¤Ÿè‡ªåŠ¨æ¢å¤æœåŠ¡ã€‚</p><h5 id="ç‰¹æ€§ä¹ï¼šâ€œæ¼”è¿›å¼â€è®¾è®¡"><a href="#ç‰¹æ€§ä¹ï¼šâ€œæ¼”è¿›å¼â€è®¾è®¡" class="headerlink" title="ç‰¹æ€§ä¹ï¼šâ€œæ¼”è¿›å¼â€è®¾è®¡"></a>ç‰¹æ€§ä¹ï¼šâ€œæ¼”è¿›å¼â€è®¾è®¡</h5><p>å¾®æœåŠ¡çš„ä»ä¸šè€…ä»¬å°†æœåŠ¡çš„åˆ†è§£ï¼Œè§†ä½œä¸€ä¸ªé¢å¤–çš„å·¥å…·ï¼Œæ¥è®©åº”ç”¨å¼€å‘äººå‘˜èƒ½å¤Ÿæ§åˆ¶åº”ç”¨ç³»ç»Ÿä¸­çš„å˜åŒ–ï¼Œè€Œæ— é¡»å‡å°‘å˜åŒ–çš„å‘ç”Ÿã€‚</p><p>è¦å°†è½¯ä»¶ç³»ç»Ÿåˆ†è§£ä¸ºå„ä¸ªç»„ä»¶æ—¶ï¼Œå†³å®šåˆ‡åˆ†åº”ç”¨ç³»ç»Ÿæ—¶åº”è¯¥éµå¾ªçš„åŸåˆ™æ˜¯ï¼šä¸€ä¸ªç»„ä»¶çš„å…³é”®å±æ€§ï¼Œæ˜¯å…·æœ‰ç‹¬ç«‹æ›´æ¢å’Œå‡çº§çš„ç‰¹ç‚¹ã€‚</p><p>è¿™ç§å¼ºè°ƒå¯æ›´æ¢æ€§çš„ç‰¹ç‚¹ï¼Œæ˜¯æ¨¡å—åŒ–è®¾è®¡ä¸€èˆ¬æ€§åŸåˆ™çš„ä¸€ä¸ªç‰¹ä¾‹ï¼Œé€šè¿‡â€œå˜åŒ–æ¨¡å¼â€æ¥é©±åŠ¨è¿›è¡Œæ¨¡å—åŒ–çš„å®ç°ã€‚å°†é‚£äº›åŒæ—¶å‘ç”Ÿå˜åŒ–çš„ä¸œè¥¿ï¼Œæ”¾åˆ°åŒä¸€ä¸ªæ¨¡å—ä¸­ï¼›å¾ˆå°‘å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†ï¼Œæ”¾åˆ°ä¸åŒçš„æœåŠ¡ä¸­ã€‚å¦‚æœå‘ç°éœ€è¦åŒæ—¶åå¤å˜æ›´ä¸¤ä¸ªæœåŠ¡ï¼Œè¿™å°±æ˜¯å®ƒä»¬éœ€è¦è¢«åˆå¹¶ä¿¡å·ã€‚</p><h3 id="å¾®æœåŠ¡æ¡†æ¶"><a href="#å¾®æœåŠ¡æ¡†æ¶" class="headerlink" title="å¾®æœåŠ¡æ¡†æ¶"></a>å¾®æœåŠ¡æ¡†æ¶</h3><ul><li>Spring Cloud</li></ul><img data-src="/2020/11/26/Microservices/Spring%20Cloud.webp" class="" title="Spring Cloud"><ul><li>Dubbo</li></ul><img data-src="/2020/11/26/Microservices/Dubbo.png" class="" title="Dubbo"><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><span class="exturl" data-url="aHR0cHM6Ly9tYXJ0aW5mb3dsZXIuY29tL2FydGljbGVzL21pY3Jvc2VydmljZXMuaHRtbA==">Microservices<i class="fa fa-external-link-alt"></i></span></p><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC83MjkzYjE0ODAyOGY=">å¾®æœåŠ¡å…¥é—¨è¿™ä¸€ç¯‡å°±å¤Ÿäº†<i class="fa fa-external-link-alt"></i></span></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å®šä¹‰ï¼šâ€œå¾®æœåŠ¡æ¶æ„â€è¿™ä¸ªæœ¯è¯­æè¿°è¿™æ ·ä¸€ç§ç‰¹å®šçš„è½¯ä»¶è®¾è®¡æ–¹æ³•ï¼Œå³ä»¥è‹¥å¹²ç»„å¯ç‹¬ç«‹éƒ¨ç½²çš„æœåŠ¡çš„æ–¹å¼è¿›è¡Œè½¯ä»¶åº”ç”¨ç³»ç»Ÿçš„è®¾è®¡ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="Architecture" scheme="https://vanehsiung.github.io/tags/Architecture/"/>
    
  </entry>
  
  <entry>
    <title>Linux Deploy</title>
    <link href="https://vanehsiung.github.io/2020/11/24/Linux-Deploy/"/>
    <id>https://vanehsiung.github.io/2020/11/24/Linux-Deploy/</id>
    <published>2020-11-24T07:44:19.000Z</published>
    <updated>2020-11-24T08:21:54.861Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è¿™æ˜¯ä¸€ç¯‡æ—§æ–‡ç« ï¼Œåšä¸ªè®°å½•ã€‚</p><a id="more"></a><h3 id="é€šè¿‡-Linux-Deploy-åœ¨-Android-ä¸Šå®‰è£…-Linux"><a href="#é€šè¿‡-Linux-Deploy-åœ¨-Android-ä¸Šå®‰è£…-Linux" class="headerlink" title="é€šè¿‡ Linux Deploy åœ¨ Android ä¸Šå®‰è£… Linux"></a>é€šè¿‡ Linux Deploy åœ¨ Android ä¸Šå®‰è£… Linux</h3><h5 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h5><p>ä¸€ä¸ª Root äº†çš„ Android æ‰‹æœº</p><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuYnVzeWJveC5uZXQv">Busy Box<i class="fa fa-external-link-alt"></i></span>ï¼šLinux Deploy æ”¯æ’‘è½¯ä»¶ã€‚</p><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21lZWZpay9saW51eGRlcGxveS9yZWxlYXNlcw==">Linux deploy<i class="fa fa-external-link-alt"></i></span>ï¼šLinux ç³»ç»Ÿæ”¯æ’‘è½¯ä»¶ã€‚</p><h5 id="å®‰è£…-Busy-Box"><a href="#å®‰è£…-Busy-Box" class="headerlink" title="å®‰è£… Busy Box"></a>å®‰è£… Busy Box</h5><p>ç‚¹å‡»å®‰è£…ï¼Œç­‰å¾…ç¨‹åºè‡ªè¡Œè¿è¡Œï¼Œåœ¨ç•Œé¢ä¸­è¾“å‡º <code>## END</code> åé€€å‡ºç¨‹åºã€‚</p><h5 id="Linux-deploy"><a href="#Linux-deploy" class="headerlink" title="Linux deploy"></a>Linux deploy</h5><ul><li>ç‚¹å‡»å·¦å›¾å·¦ä¸Šè§’éƒ¨åˆ†ï¼Œé€‰æ‹© <strong>è®¾ç½®</strong>ï¼Œåœ¨è®¾ç½®ç•Œé¢ä¸­æ‰¾åˆ°PATHå˜é‡ï¼Œèµ‹äºˆå…¶å€¼ <code>/system/xbin</code>ã€‚</li><li>å»ºè®®å¼€å¯ <strong>é”å®šWifi</strong> åŠŸèƒ½ã€‚</li><li>æ¥ç€é€€å›ä¸»ç•Œé¢ï¼Œç‚¹å‡»å³ä¸‹è§’éƒ¨åˆ†ã€‚</li><li><strong>å‘è¡Œç‰ˆ</strong> çœ‹ä¸ªäººå–œå¥½é€‰æ‹©ï¼ŒDebian ç³»ï¼ˆDebianï¼ŒKailiï¼ŒUbuntuï¼‰è¾ƒçƒ­é—¨ã€‚</li><li><strong>æ¶æ„</strong> é»˜è®¤ã€‚</li><li><strong>æº</strong> é»˜è®¤ã€‚å¦‚æœä¸‹çš„æ…¢çš„è¯ï¼Œå°±ä»¿ç…§é»˜è®¤çš„æºæ¢ä¸ºå›½å†…çš„æºï¼Œå¦‚ <span class="exturl" data-url="aHR0cDovL21pcnJvcnMudXN0Yy5lZHUuY24v">USTC MIRRORS<i class="fa fa-external-link-alt"></i></span>ï¼Œä½†æ˜¯ä¸è¦ç‰¹æ„å»æ¢æºï¼Œå®˜æ–¹çš„æºç”¨çš„äº†çš„è¯å®˜æ–¹çš„æºæœ€å¥½ã€‚</li><li><strong>å®‰è£…è·¯å¾„</strong> ï¼šå®‰è£…åœ¨æ‰‹æœºè‡ªå¸¦çš„å­˜å‚¨ç©ºé—´ä¸­ï¼Œåˆ™åœ¨è·¯å¾„å¼€å¤´åŠ ä¸Š<code>$&#123;ENV_DIR&#125;</code>ï¼›å®‰è£…åœ¨ <strong>sdcard</strong> ä¸­ï¼ŒåŠ ä¸Š<code>$&#123;EXTERNAL_STORAGE&#125;</code>ã€‚</li><li><strong>æ–‡ä»¶ç³»ç»Ÿ</strong> ï¼šæ¨è <code>ext4</code>ã€‚</li><li><strong>ç”¨æˆ·å</strong> å’Œ <strong>å¯†ç </strong> è‡ªå®šä¹‰ã€‚</li><li><strong>DNS</strong> é»˜è®¤ã€‚</li><li><strong>æœ¬åœ°åŒ–</strong> ï¼šç®€ä½“ä¸­æ–‡å¯ä»¥é€‰æ‹© <code>zh_CN.UTF-8</code>ï¼Œå»ºè®®é€‰æ‹© <code>en_US.UTF-8</code> ã€‚</li><li><strong>æŒ‚è½½åˆ—è¡¨</strong>ï¼šæ·»åŠ è®¿é—®æ‰‹æœºå†…å®¹çš„ç›®å½•ï¼Œ<strong>æ‰‹æœºç›®å½•ï¼šæŒ‚è½½ç‚¹</strong>ï¼Œå¦‚ <code>/sdcard:/mnt</code>ï¼Œä¹‹åä¼šè‡ªåŠ¨æŒ‚è½½ã€‚</li><li>**å¼€å¯<code>SSH</code>**ã€‚</li><li><strong>å›¾å½¢ç•Œé¢åŠŸèƒ½</strong>ï¼Œéœ€è¦çš„è¯å°±é€‰ <code>XFce</code> ä¸ºæ¡Œé¢ï¼ŒXFce`æ˜¯è½»é‡çº§æ¡Œé¢ç¯å¢ƒã€‚</li><li>é€€å‡ºç³»ç»Ÿè®¾ç½®ç•Œé¢ï¼Œç‚¹å‡»ä¸»ç•Œé¢å³ä¸Šè§’ï¼Œé€‰æ‹©å®‰è£…ã€‚<br>  ç­‰å¾…ç¨‹åºè‡ªè¡Œå®‰è£…Linuxç³»ç»Ÿï¼Œå¼€å§‹æ—¶ä¼šè‡ªåŠ¨åˆ›é€ ä¸€ä¸ª4Gå·¦å³å¤§å°çš„imgæ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯é»˜è®¤çš„å¤§å°ï¼Œä½ å¯ä»¥æ ¹æ®ä½ æ‰‹æœºçš„å®¹é‡è‡ªå®šä¹‰ï¼Œåˆ›é€ æ–‡ä»¶éœ€è¦ä¸€ç‚¹æ—¶é—´ï¼Œå±å¹•ä¼šå¾ˆå®‰é™ï¼Œå†ç„¶åä¼šå®‰è£…å„ç§ä¸œè¥¿ï¼Œå±å¹•ä¼šè¾“å‡ºå¾ˆå¤šä¿¡æ¯ï¼Œæ ¹æ®ä½ çš„æºçš„é€Ÿåº¦ï¼Œç­‰å¾…æ—¶é—´ä¸ç­‰ï¼Œçœ‹åˆ° <code>&lt;&lt;&lt;deploy</code> åˆ™å®‰è£…å®Œæ¯•ã€‚å¦‚æœä¸­é—´æ²¡æœ‰ <code>failed</code> åˆ™å®‰è£…æˆåŠŸã€‚å®‰è£…å¤±è´¥çš„è¯å°±éœ€è¦é‡æ–°å®‰è£…ï¼Œæ¢ä¸ªå¿«ä¸€ç‚¹çš„ç½‘ï¼Œæˆ–è€…å¥½ä¸€ç‚¹çš„æºã€‚</li><li> <strong>æ³¨æ„ï¼šå®‰è£…å®Œæ¯•åè¦å…ˆç‚¹å‡»åœæ­¢æŒ‰é’®ï¼Œå†æŒ‰å¯åŠ¨æŒ‰é’®</strong>ã€‚è¿™ä¸ªå¾ˆé‡è¦ï¼Œä¸ç„¶ä½ å°±å¾—é‡è£…äº†ã€‚</li></ul><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ul><li><p>Andorid ç«¯ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Nvbm5lY3Rib3QvY29ubmVjdGJvdC9yZWxlYXNlcw==">ConnectBox<i class="fa fa-external-link-alt"></i></span></p></li><li><p>Windowsç”¨  <span class="exturl" data-url="aHR0cHM6Ly93d3cuY2hpYXJrLmdyZWVuZW5kLm9yZy51ay9+c2d0YXRoYW0vcHV0dHkvbGF0ZXN0Lmh0bWw=">putty<i class="fa fa-external-link-alt"></i></span> ï¼Œå›¾å½¢ç•Œé¢ç”¨ <span class="exturl" data-url="aHR0cHM6Ly93d3cucmVhbHZuYy5jb20vZW4vY29ubmVjdC9kb3dubG9hZC92aWV3ZXIv">VNC Viewer<i class="fa fa-external-link-alt"></i></span>ã€‚VNC Viewer ç›´æ¥æœä¸»æœºIPå°±è¡Œï¼ŒVNC Server åœ¨ä½ é€‰æ‹©å®‰è£…å›¾å½¢ç•Œé¢åŠŸèƒ½æ—¶å°±è‡ªåŠ¨å®‰è£…äº†ï¼Œä¸éœ€è¦å†å®‰è£… vnc4serverã€‚</p></li><li><p>Linux è¾“å…¥<code>ssh username@hostname</code>å°±è¡Œã€‚</p></li></ul><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><ul><li><p>å®‰è£…åå¦‚æœç”¨ vnc viewer åªæœ‰ä¸€ä¸ªç‚¹çš„è¯ï¼Œå¯ä»¥æ¢ä¸€ä¸ªå‘è¡Œç‰ˆï¼Œæˆ‘å°è¯•çš„ CentOS æœ‰è¿™ä¸ªé—®é¢˜ã€‚</p></li><li><p>Linuxè¿çš„æ—¶å€™å‡ºç° <code>WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!</code>ï¼š</p>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -R + è¾“å…¥æœåŠ¡å™¨çš„IP</span><br></pre></td></tr></table></figure></li><li><p>altarch æ¶æ„çš„æ‰‹æœº CentOS ç³»ç»Ÿæ¢æº</p>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cp CentOS-7-armhfp.repo CentOS-Base.repo</span><br><span class="line">$ mv CentOS-7-armhfp.repo CentOS-7-armhfp.repo.backup</span><br><span class="line">$ vi CentOS-Base.repo</span><br><span class="line">baseurl&#x3D;https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;centos-altarch&#x2F;7.6.1810&#x2F;os&#x2F;armhfp&#x2F;</span><br><span class="line">$ yum makecache</span><br><span class="line">$ yum update</span><br></pre></td></tr></table></figure></li><li><p><strong>å¦‚æœä½ ä¹‹å‰æ²¡æœ‰å®‰è£…VNCçš„è¯ï¼Œç°åœ¨åˆæƒ³è£…ï¼š</strong></p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install tigervnc-server</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;è¿™æ˜¯ä¸€ç¯‡æ—§æ–‡ç« ï¼Œåšä¸ªè®°å½•ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="Unix" scheme="https://vanehsiung.github.io/tags/Unix/"/>
    
  </entry>
  
  <entry>
    <title>Conversation</title>
    <link href="https://vanehsiung.github.io/2020/11/21/Conversation/"/>
    <id>https://vanehsiung.github.io/2020/11/21/Conversation/</id>
    <published>2020-11-21T10:37:12.000Z</published>
    <updated>2020-11-22T01:18:29.715Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><img data-src="/2020/11/21/Conversation/The%20Silent%20League.jpg" class="" title="The Silent League"><blockquote class="blockquote-center"><p>Just a little conversation<br>About give me your picture<br>On the cover of a magazine<br>On the cover of a magazine<br>Just a little conversation<br>But how long it might take one?<br>To get along with such thing?<br>To get along with such thing?<br>But everybody knows<br>Itâ€™s easier to fall apart<br>Just a little conversation<br>About give me your picture<br>On the cover of a magazine<br>On the cover of a magazine</p></blockquote><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=298 height=52 src="//music.163.com/outchain/player?type=2&id=3716423&auto=0&height=32"></iframe>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="Lyrics" scheme="https://vanehsiung.github.io/tags/Lyrics/"/>
    
  </entry>
  
  <entry>
    <title>FreeBSD</title>
    <link href="https://vanehsiung.github.io/2020/11/17/FreeBSD/"/>
    <id>https://vanehsiung.github.io/2020/11/17/FreeBSD/</id>
    <published>2020-11-17T11:55:35.000Z</published>
    <updated>2020-11-30T14:11:58.359Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>FreeBSD è¨ˆåŠƒçš„ç›®æ¨™åœ¨æ–¼æä¾›å¯ä½œä»»æ„ç”¨é€”çš„è»Ÿé«”è€Œä¸é™„å¸¶ä»»ä½•é™åˆ¶æ¢æ–‡ã€‚ æˆ‘å€‘ä¹‹ä¸­è¨±å¤šäººå°ç¨‹å¼ç¢¼ (ä»¥åŠè¨ˆç•«æœ¬èº«) éƒ½æœ‰éå¸¸å¤§çš„æŠ•å…¥ï¼Œ å› æ­¤ï¼Œç•¶ç„¶ä¸ä»‹æ„å¶çˆ¾æœ‰ä¸€äº›è³‡é‡‘ä¸Šçš„è£œå„Ÿï¼Œä½†æˆ‘å€‘ä¸¦æ²’æ‰“ç®—å …æ±ºåœ°è¦æ±‚å¾—åˆ°é€™é¡è³‡åŠ©ã€‚ æˆ‘å€‘èªç‚ºæˆ‘å€‘çš„é¦–è¦â€œä½¿å‘½â€æ˜¯ç‚ºä»»ä½•äººæä¾›ç¨‹å¼ç¢¼ï¼Œ ä¸ç®¡ä»–å€‘æ‰“ç®—ç”¨é€™äº›ç¨‹å¼ç¢¼åšä»€éº¼ï¼Œ å› ç‚ºé€™æ¨£ç¨‹å¼ç¢¼å°‡èƒ½å¤ è¢«æ›´å»£æ³›åœ°ä½¿ç”¨ï¼Œå¾è€Œç™¼æ®å…¶åƒ¹å€¼ã€‚ æˆ‘èªç‚ºé€™æ˜¯è‡ªç”±è»Ÿé«”æœ€åŸºæœ¬çš„ï¼ŒåŒæ™‚ä¹Ÿæ˜¯æˆ‘å€‘æ‰€å€¡å°çš„ä¸€å€‹ç›®æ¨™ã€‚</p><p>æˆ‘å€‘ç¨‹å¼ç¢¼æ¨¹ä¸­ï¼Œæœ‰è‹¥å¹²æ˜¯ä»¥ GNU é€šç”¨å…¬å…±æˆæ¬Šæ¢æ¬¾ (GPL) æˆ–è€… GNU è¼ƒå¯¬é¬†é€šç”¨å…¬å…±æˆæ¬Šæ¢æ¬¾ (LGPL) ç™¼ä½ˆçš„é‚£äº›ç¨‹å¼ç¢¼å¸¶æœ‰å°‘è¨±çš„é™„åŠ é™åˆ¶ï¼Œé‚„å¥½åªæ˜¯å¼·åˆ¶æ€§çš„è¦æ±‚é–‹æ”¾ç¨‹å¼ç¢¼è€Œä¸æ˜¯åˆ¥çš„ã€‚ ç”±æ–¼ä½¿ç”¨ GPL çš„è»Ÿé«”åœ¨å•†æ¥­ç”¨é€”ä¸Šæœƒå¢åŠ è‹¥å¹²è¤‡é›œæ€§ï¼Œå› æ­¤ï¼Œå¦‚æœå¯ä»¥é¸æ“‡çš„è©±ï¼Œ æˆ‘å€‘æœƒæ¯”è¼ƒå–œæ­¡ä½¿ç”¨é™åˆ¶ç›¸å°æ›´å¯¬é¬†çš„ BSD ç‰ˆæ¬Šä¾†ç™¼ä½ˆè»Ÿé«”ã€‚</p><footer><strong>Jordan Hubbard</strong><cite><span class="exturl" data-url="aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmcvZG9jL3poX1RXL2Jvb2tzL2hhbmRib29rLw==">FreeBSD Handbook<i class="fa fa-external-link-alt"></i></span></cite></footer></blockquote><a id="more"></a><h3 id="FreeBSD-Beginner"><a href="#FreeBSD-Beginner" class="headerlink" title="FreeBSD Beginner"></a>FreeBSD Beginner</h3><p>å¦‚æœä»æ²¡æœ‰äº†è§£è¿‡ FreeBSDï¼Œè¯·çœ‹å¦‚ä¸‹ï¼š</p><ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmcvZG9jL3poX1RXL2Jvb2tzL2hhbmRib29rL2ludHJvZHVjdGlvbi5odG1s">FreeBSD ç®€ä»‹<i class="fa fa-external-link-alt"></i></span>ï¼š<ul><li>ä½¿ç”¨ FreeBSD ä½¿ç”¨æ‰‹å†Šç¹ä½“ä¸­æ–‡ç‰ˆï¼Œç¹ä½“ä¸­æ–‡ç‰ˆè¾ƒä¹‹ç®€ä½“ä¸­æ–‡ç‰ˆæ›´æ–°ã€‚</li><li>å¯¹äº FreeBSD ä½¿ç”¨æ‰€éœ€çš„ä¸€åˆ‡çŸ¥è¯†ï¼Œéƒ½å¯ä»¥åœ¨ FreeBSD ä½¿ç”¨æ‰‹å†Œä¸­æ‰¾åˆ°ï¼›å¯¹äº FreeBSD ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€åˆ‡é—®é¢˜ï¼Œéƒ½å¯ä»¥åœ¨ <span class="exturl" data-url="aHR0cHM6Ly9mb3J1bXMuZnJlZWJzZC5vcmcv">FreeBSD Forums<i class="fa fa-external-link-alt"></i></span> æ‰¾åˆ°è§£ç­”ï¼Œæˆ–è€…æå‡ºé—®é¢˜ã€‚</li></ul></li><li><span class="exturl" data-url="aHR0cHM6Ly9teS5vc2NoaW5hLm5ldC9xaWhoL2Jsb2cvNzg3NDM=">FreeBSDçš„ç°çŠ¶å’Œæœªæ¥<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3RvcGljLzE5NTU5MjM3L2hvdA==">FreeBSD çŸ¥ä¹è¯é¢˜<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly90aWViYS5iYWlkdS5jb20vZj9rdz1mcmVlYnNkJmllPXV0Zi04">FreeBSD å§<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cudjJleC5jb20vZ28vZnJlZWJzZA==">FreeBSD v2ex ä¸»é¢˜<i class="fa fa-external-link-alt"></i></span></li></ul><h3 id="Xorg-Configuration"><a href="#Xorg-Configuration" class="headerlink" title="Xorg Configuration"></a>Xorg Configuration</h3><p>é¡¯ç¤ºå¡ã€é¡¯ç¤ºå™¨ä»¥åŠè¼¸å…¥è£ç½®æœƒè‡ªå‹•åµæ¸¬ï¼Œç„¡é ˆä»»ä½•æ‰‹å‹•è¨­ç½®ã€‚é™¤éè‡ªå‹•è¨­ç½®å¤±æ•—ï¼Œå¦å‰‡è«‹å‹¿å»ºç«‹ xorg.conf æˆ–åŸ·è¡Œ -configure æ­¥é©Ÿã€‚</p><p>åŠ å…¥è¦åŸ·è¡Œ Xorg çš„ä½¿ç”¨è€…åˆ° <code>video</code> æˆ– <code>wheel</code> ç¾¤çµ„ï¼Œä»¥ä¾¿åœ¨å¯ç”¨æ™‚èƒ½é–‹å•Ÿ 3D åŠ é€Ÿã€‚è¦åŠ å…¥ä½¿ç”¨è€… <em><code>jru</code></em> åˆ°ä»»ä¸€å€‹å¯ç”¨çš„ç¾¤çµ„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pw groupmod video -m jru || pw groupmod wheel -m jru</span><br></pre></td></tr></table></figure><p>è¼ƒèˆŠç‰ˆçš„ FreeBSD ä½¿ç”¨çš„ sc ä¸¦ä¸çŸ¥åˆ° KMS ç³»çµ±çš„å­˜åœ¨ï¼Œé€™æœƒå°è‡´é—œé–‰ X ä¹‹å¾Œå³å§‹ä»åœ¨é‹ä½œä½†ç³»çµ± Console å»å‘ˆç¾ç©ºç™½ã€‚è¼ƒæ–°ç‰ˆçš„ vt Console å¯é¿å…é€™å€‹å•é¡Œã€‚</p><p>åŠ å…¥æ­¤è¡Œåˆ° <code>/boot/loader.conf</code> ä¾†é–‹å•Ÿ vtï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kern.vty&#x3D;vt</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å¤šæª”ï¼Œæ¯ä¸€å€‹æª”æ¡ˆåªè¨­å®šä¸€å€‹æŒ‡å®šé …ç›®æœƒè¼ƒå‚³çµ±ä½¿ç”¨å–®ä¸€ <code>/etc/X11/xorg.conf</code> è¨­å®šä¾†çš„ç°¡å–®ã€‚å®Œæ•´è·¯å¾‘ç‚º <code>/usr/local/etc/X11/xorg.conf.d/</code>ã€‚</p><h5 id="åœ¨æª”æ¡ˆä¸­è¨­å®šå½±åƒé©…å‹•ç¨‹å¼"><a href="#åœ¨æª”æ¡ˆä¸­è¨­å®šå½±åƒé©…å‹•ç¨‹å¼" class="headerlink" title="åœ¨æª”æ¡ˆä¸­è¨­å®šå½±åƒé©…å‹•ç¨‹å¼"></a>åœ¨æª”æ¡ˆä¸­è¨­å®šå½±åƒé©…å‹•ç¨‹å¼</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># vi &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;driver-intel.conf</span><br><span class="line">Section &quot;Device&quot;</span><br><span class="line">Identifier &quot;Card0&quot;</span><br><span class="line">Driver     &quot;intel&quot;</span><br><span class="line"># BusID    &quot;PCI:1:0:0&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure><p>è‹¥æœ‰å¤šå¼µé¡¯ç¤ºå¡ï¼Œå¯å–æ¶ˆè¨»è§£ <code>BusID</code> identifier ç„¶å¾Œè¨­å®šç‚ºæƒ³è¦çš„é¡¯ç¤ºå¡ï¼Œé¡¯ç¤ºå¡çš„ Bus ID æ¸…å–®å¯ä»¥ä½¿ç”¨ <code>pciconf -lv | grep -B3 display</code> å–å¾—ã€‚</p><h5 id="æ‰‹å‹•è¨­å®š"><a href="#æ‰‹å‹•è¨­å®š" class="headerlink" title="æ‰‹å‹•è¨­å®š"></a>æ‰‹å‹•è¨­å®š</h5><p>è¨­å®šæª”å¯ç”± Xorg æ ¹æ“šåµæ¸¬åˆ°çš„ç¡¬é«”ç”¢ç”Ÿï¼Œé€™å€‹æª”æ¡ˆå°ä¸€é–‹å§‹è‡ªè¨‚è¨­å®šå¾ˆæœ‰å¹«åŠ©ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># Xorg -configure</span><br></pre></td></tr></table></figure><p>è¨­å®šæª”æœƒå„²å­˜è‡³ <code>/root/xorg.conf.new</code>ï¼Œåšä»»ä½•éœ€è¦çš„æ›´æ”¹ï¼Œç„¶å¾Œä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤æ¸¬è©¦è©²æª”æ¡ˆï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># Xorg -config &#x2F;root&#x2F;xorg.conf.new</span><br></pre></td></tr></table></figure><p>åœ¨æ–°è¨­å®šæª”èª¿æ•´èˆ‡æ¸¬è©¦éå¾Œï¼Œä¾¿å¯åˆ†é–‹æˆè¼ƒå°çš„æª”æ¡ˆæ”¾ç½®åˆ°æ­£å¸¸çš„ä½ç½® <code>/usr/local/etc/X11/xorg.conf.d/</code>ã€‚</p><h3 id="Install-Desktop-Enviroment"><a href="#Install-Desktop-Enviroment" class="headerlink" title="Install Desktop Enviroment"></a>Install Desktop Enviroment</h3><ul><li><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuZ2hvc3Ric2Qub3JnLw==">GhostBSD<i class="fa fa-external-link-alt"></i></span> æ˜¯ FreeBSD æ¡Œé¢å‘è¡Œç‰ˆï¼Œæ³¨æ„ä½¿ç”¨ Official ç‰ˆæœ¬ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ FreeBSD æºå‡çº§ã€‚</p></li><li><p><span class="exturl" data-url="aHR0cHM6Ly9ub21hZGJzZC5vcmcv">nomadbsd<i class="fa fa-external-link-alt"></i></span> æ˜¯ä¸ªéå¸¸æ¼‚äº®çš„ FreeBSD æ¡Œé¢å‘è¡Œç‰ˆ ï¼Œå¾·å›½äº§ã€‚</p></li><li><p>å¯ä»¥åœ¨è™šæ‹Ÿæœºé‡Œé¢å®‰è£… FreeBSD æ¡Œé¢å‘è¡Œç‰ˆï¼Œç„¶åæ‰¾åˆ°è‡ªå·±æƒ³ç”¨çš„æ¡Œé¢å·¥å…·ï¼Œå†å®šåˆ¶è‡ªå·±çš„ FreeBSD æ¡Œé¢ã€‚</p></li></ul><p>X æœ€åˆè¨­è¨ˆæ˜¯ä»¥ç¶²è·¯ç‚ºä¸­å¿ƒï¼Œæ¡ç”¨ â€œclient-serverâ€ æ¶æ§‹ã€‚åœ¨æ­¤æ¶æ§‹ä¸‹ â€œX ä¼ºæœå™¨â€ åœ¨æœ‰éµç›¤ã€è¢å¹•ã€æ»‘é¼ çš„é›»è…¦ä¸Šé‹ä½œã€‚è©²ä¼ºæœå™¨è² è²¬çš„å·¥ä½œåŒ…å«ç®¡ç†é¡¯ç¤ºã€è™•ç†ä¾†è‡ªéµç›¤ã€æ»‘é¼ çš„è¼¸å…¥åŠä¾†è‡ªå…¶ä»–è¨­å‚™)çš„è¼¸å…¥æˆ–è¼¸å‡ºã€‚</p><p>æ¯å€‹ X æ‡‰ç”¨ç¨‹å¼ï¼Œå¦‚ XTermã€Firefox éƒ½æ˜¯ â€œå®¢æˆ¶ç«¯â€ã€‚</p><p>è¦–çª—ç®¡ç†ç¨‹å¼è¦å®šè¢å¹•ä¸Šçš„è¦–çª—è©²é•·ä»€éº¼æ¨£ã€è¦å¦‚ä½•ç§»å‹•æ»‘é¼ æŒ‡æ¨™ã€ è¦ç”¨ä»€éº¼éµä¾†åœ¨è¦–çª—åˆ‡æ›ã€æ¯å€‹è¦–çª—çš„æ¨™é¡Œåˆ—é•·ç›¸ï¼ŒåŠæ˜¯å¦è©²æœ‰é—œé–‰æŒ‰éˆ•ï¼Œç­‰ç­‰ã€‚è¦–çª—ç®¡ç†ç¨‹å¼è² è²¬æ»‘é¼ æŒ‡æ¨™çš„èšç„¦æ”¿ç­–ã€‚ èšç„¦æ”¿ç­–æŒ‡çš„æ˜¯å¦‚ä½•æ±ºå®šä½¿ç”¨ä¸­åŠæ¥æ”¶éµç›¤è¼¸å…¥çš„è¦–çª—ã€‚é€šå¸¸è¼ƒç‚ºäººç†Ÿæ‚‰çš„èšç„¦æ”¿ç­–å«åš â€œclick-to-focusâ€ï¼Œé€™å€‹æ¨¡å¼ä¸­ï¼Œæ»‘é¼ é»é¸åˆ°çš„è¦–çª—ä¾¿æœƒè™•æ–¼ä½œç”¨ä¸­ (Active) çš„ç‹€æ…‹ã€‚</p><p>KDE èˆ‡ GNOME æœƒè¢«ç¨±ä½œæ¡Œé¢ç’°å¢ƒæ˜¯å› ç‚ºåŒ…å«äº†å®Œæ•´å¸¸ç”¨æ¡Œé¢ä½œæ¥­çš„æ‡‰ç”¨ç¨‹å¼ã€‚</p><ul><li><p>Install X Window System</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg install xorg</span><br></pre></td></tr></table></figure></li><li><p>Install Desktop Environment</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg install gnome3</span><br><span class="line">$ sudo pkg install gnome3-lite</span><br><span class="line">$ sudo pkg install x11&#x2F;kde5</span><br><span class="line">$ sudo pkg install xfce</span><br><span class="line">$ sudo pkg install mate</span><br></pre></td></tr></table></figure></li><li><p>Install/Enable Display Manager</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg install xdm</span><br><span class="line">$ sudo pkg install slim# xfce,mate</span><br><span class="line">$ sudo pkg install x11&#x2F;sddm# kde</span><br></pre></td></tr></table></figure></li><li><p>Setting</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi &#x2F;etc&#x2F;ttys</span><br><span class="line">ttyv8   &quot;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;xdm -nodaemon&quot;  xterm  on secure</span><br><span class="line"></span><br><span class="line">$ sudo vi &#x2F;etc&#x2F;fstab gnome, kde</span><br><span class="line">proc           &#x2F;proc       procfs  rw  0   0</span><br><span class="line"></span><br><span class="line">$ sudo vi &#x2F;etc&#x2F;rc.conf</span><br><span class="line">moused_enalbe&#x3D;&quot;YES&quot;</span><br><span class="line">dbus_enable&#x3D;&quot;YES&quot;# gnome, kde, xfce</span><br><span class="line">hald_enable&#x3D;&quot;YES&quot;# gnome, kde, mate</span><br><span class="line">gdm_enalbe&#x3D;&quot;YES&quot;# gnomeå¯åŠ¨</span><br><span class="line">sddm_enable&#x3D;&quot;YES&quot;# kdeå¯åŠ¨</span><br><span class="line">slim_enable&#x3D;&quot;YES&quot;# xfce,mate</span><br><span class="line">gnome_enable&#x3D;&quot;YES&quot;# gnomeæœåŠ¡</span><br></pre></td></tr></table></figure></li><li><p>slim Usage:failed to execute login command</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi ~&#x2F;.xinitrc</span><br><span class="line">exec mate-session# mate</span><br><span class="line">exec xfce4-session# xfce</span><br></pre></td></tr></table></figure></li></ul><h3 id="Binary-å¥—ä»¶"><a href="#Binary-å¥—ä»¶" class="headerlink" title="Binary å¥—ä»¶"></a>Binary å¥—ä»¶</h3><p>æœå¯»è½¯ä»¶ï¼š<span class="exturl" data-url="aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmcvcG9ydHMvaW5kZXguaHRtbA==">FreeBSD Ports<i class="fa fa-external-link-alt"></i></span>ã€<span class="exturl" data-url="aHR0cHM6Ly93d3cuZnJlc2hwb3J0cy5vcmcv">FreshPorts<i class="fa fa-external-link-alt"></i></span></p><p>å› ç·¨è­¯é¸é …ä¸åŒï¼Œæœ‰äº› Port æœƒæœ‰å¤šå€‹ç‰ˆæœ¬å¯ä½¿ç”¨ã€‚</p><ul><li><p><span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLnVzdGMuZWR1LmNuL2hlbHAvZnJlZWJzZC1wa2cuaHRtbA==">USTC Mirrors<i class="fa fa-external-link-alt"></i></span>ï¼šæ³¨æ„ä½¿ç”¨ Latest æºï¼Œæœ‰å¾ˆå¤šæµè¡Œè½¯ä»¶ã€‚åˆ›å»º <code>/usr/local/etc/pkg/repos/FreeBSD.conf</code> è¦†ç›–å®˜æ–¹æº <code>/etc/pkg/FreeBSD.conf</code> é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi &#x2F;usr&#x2F;local&#x2F;etc&#x2F;pkg&#x2F;repos&#x2F;FreeBSD.conf</span><br><span class="line">FreeBSD: &#123;</span><br><span class="line">  url: &quot;pkg+http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;freebsd-pkg&#x2F;$&#123;ABI&#125;&#x2F;latest&quot;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$ sudo pkg update -f# æ›´æ–°ç´¢å¼•</span><br></pre></td></tr></table></figure></li><li><p><span class="exturl" data-url="aHR0cDovL21pcnJvcnMuMTYzLmNvbS9mcmVlYnNkLXBrZy9GcmVlQlNEJTNhMTIlM2FhbWQ2NC9sYXRlc3Qv">163 Mirrors<i class="fa fa-external-link-alt"></i></span></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url: &quot;pkg+http:&#x2F;&#x2F;mirrors.163.com&#x2F;freebsd-pkg&#x2F;$&#123;ABI&#125;&#x2F;latest&quot;,</span><br></pre></td></tr></table></figure></li><li><p>è¦å•Ÿå‹• (Bootstrap) ç³»çµ±ï¼Œè«‹åŸ·è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo &#x2F;usr&#x2F;sbin&#x2F;pkg</span><br></pre></td></tr></table></figure></li><li><p>ç•¶å‡ç´šåŸä½¿ç”¨èˆŠç‰ˆ pkg_* å·¥å…·çš„æ—¢æœ‰ç³»çµ±æ™‚ï¼Œå¿…é ˆå°‡è³‡æ–™åº«è½‰æ›æˆæ–°çš„æ ¼å¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg2ng</span><br></pre></td></tr></table></figure></li><li><p>Update the available remote repositories as listed in pkg.conf</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg update</span><br></pre></td></tr></table></figure></li><li><p>Search for a package</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg search perl</span><br></pre></td></tr></table></figure></li><li><p>åœ¨æŒ‡å®šè¦å®‰è£çš„å¥—ä»¶æ™‚ï¼Œæœ€å¥½ä½¿ç”¨ Port ä¾†æºä¾†æŒ‡å®šè©²æ‡‰ç”¨ç¨‹å¼ï¼ŒPort ä¾†æºæ˜¯æŒ‡æ‡‰ç”¨ç¨‹å¼åœ¨ Port æ¨¹ä¸­çš„è·¯å¾‘</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg search -o perl</span><br></pre></td></tr></table></figure></li><li><p>Install a package: Installing must specify a unique origin or version otherwise it will try installing all matches</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg install perl-5.14</span><br></pre></td></tr></table></figure></li><li><p>åˆ—å‡ºå·²ç¶“å®‰è£çš„ Port ä¸­æœ‰é‚£äº›å·²éæ™‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg version -l &quot;&lt;&quot;</span><br></pre></td></tr></table></figure></li><li><p>Upgrade from remote repository</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg upgrade</span><br></pre></td></tr></table></figure></li><li><p>Delete an installed package</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg delete perl-5.14</span><br></pre></td></tr></table></figure></li><li><p>Remove unneeded dependencies</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg autoremove</span><br></pre></td></tr></table></figure></li><li><p>List installed packages</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg info</span><br></pre></td></tr></table></figure></li><li><p>Display information about installed packages</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg info perl-5.14</span><br></pre></td></tr></table></figure></li><li><p>Show the pkg-message of a package</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg info -D perl-5.14</span><br></pre></td></tr></table></figure></li><li><p>è¦æŸ¥è©¢å·²å®‰åœ¨ç³»çµ±ä¸Šçš„è»Ÿé«”æ˜¯å¦æœ‰ä»»ä½•å·²çŸ¥çš„æ¼æ´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg audit -F</span><br></pre></td></tr></table></figure></li><li><p>å› ç‚ºç›¸ä¾æ‰€å®‰è£çš„å¥—ä»¶ç¨±ä½œè‡ªå‹• (Automatic) å¥—ä»¶ï¼Œè€Œéè‡ªå‹•å¥—ä»¶å³å¥—ä»¶è¢«å®‰è£çš„åŸå› ä¸æ˜¯å› ç‚ºå…¶ä»–å¥—ä»¶æ‰€ç›¸ä¾</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg prime-list# deprecated</span><br></pre></td></tr></table></figure></li><li><p>Clean the local cache of fetched remote packages</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg clean</span><br></pre></td></tr></table></figure></li><li><p>Example</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg install node npm</span><br></pre></td></tr></table></figure></li></ul><h3 id="Port-å¥—ä»¶"><a href="#Port-å¥—ä»¶" class="headerlink" title="Port å¥—ä»¶"></a>Port å¥—ä»¶</h3><p>å„ªé»ï¼š</p><ul><li>å¯æ›´æ”¹ç·¨è­¯é¸é …</li><li>éƒ¨ä»½è»Ÿé«”çš„æˆæ¬Šæ¢æ¬¾ä¸­ç¦æ­¢ä»¥ Binary æ ¼å¼ç™¼ä½ˆã€‚ é€™ç¨®è»Ÿé«”å¿…é ˆä»¥åŸå§‹ç¢¼ç™¼ä½ˆä¸¦ç”±çµ‚ç«¯ä½¿ç”¨è€…ç·¨è­¯ã€‚</li><li>åŸå§‹ç¢¼å¯å¥—ç”¨è‡ªè¨‚çš„ä¿®è£œã€‚</li></ul><p>Port ä¸­ä¸¦ä¸å«å¯¦éš›çš„åŸå§‹ç¢¼ï¼Œåœ¨ç·¨è­¯ Port è§£å£“ç¸®æ™‚æœƒè‡ªå‹•ä¸‹è¼‰çš„åŸå§‹ç¢¼åˆ° <code>/usr/ports/distfiles</code>ã€‚</p><ul><li><p><span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLnVzdGMuZWR1LmNuL2hlbHAvZnJlZWJzZC1wb3J0cy5odG1s">USTC Mirrors<i class="fa fa-external-link-alt"></i></span>ï¼šåœ¨ <code>/etc/make.conf</code> ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MASTER_SITE_OVERRIDE?&#x3D;http:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;freebsd-ports&#x2F;distfiles&#x2F;$&#123;DIST_SUBDIR&#125;&#x2F;</span><br></pre></td></tr></table></figure></li><li><p><span class="exturl" data-url="aHR0cDovL21pcnJvcnMuMTYzLmNvbS9mcmVlYnNkLXBvcnRzL2Rpc3RmaWxlcy8=">163 Mirrors<i class="fa fa-external-link-alt"></i></span></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MASTER_SITE_OVERRIDE?&#x3D;http:&#x2F;&#x2F;mirrors.163.com&#x2F;freebsd-ports&#x2F;distfiles&#x2F;$&#123;DIST_SUBDIR&#125;&#x2F;</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£ Port å¥—ä»¶é›†ï¼šä¸‹è¼‰å£“ç¸®å¾Œçš„ Port å¥—ä»¶é›†å¿«ç…§ (Snapshot) åˆ° /var/db/portsnap</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo portsnap fetch</span><br></pre></td></tr></table></figure></li><li><p>ç¬¬ä¸€æ¬¡åŸ·è¡Œ Portsnap æ™‚ï¼Œè¦å…ˆè§£å£“ç¸®å¿«ç…§åˆ° /usr/ports</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo portsnap extract</span><br></pre></td></tr></table></figure></li><li><p>åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ä¾†æ›´æ–° /usr/ports</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo portsnap fetch</span><br><span class="line">$ sudo portsnap update</span><br></pre></td></tr></table></figure></li><li><p>è¦æ‰¾åˆ° Port æ‰€åœ¨çš„åˆ†é¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo whereis lsof</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ Port å¥—ä»¶é›†å…§å»ºçš„æœå°‹æ©Ÿåˆ¶ä¾†æ‰¾è»Ÿé«”</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo cd &#x2F;usr&#x2F;ports</span><br><span class="line">$ sudo make search name&#x3D;lsof</span><br><span class="line">$ sudo make quicksearch name&#x3D;lsof# ä¸æ¥å—å¤šè³‡è¨Š</span><br></pre></td></tr></table></figure></li><li><p>è‹¥è¦é€²è¡Œæ›´æœ‰æ·±åº¦çš„æœå°‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo make search key&#x3D;string</span><br><span class="line">$ sudo make quicksearch key&#x3D;string</span><br></pre></td></tr></table></figure></li><li><p>ä¸€æ¬¡è¨­å®šæ‰€æœ‰Port ç·¨è­¯é¸é …</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo make config-recursive</span><br></pre></td></tr></table></figure></li><li><p>é‡æ–°é€²å…¥ Port çš„ç·¨è­¯é¸é …æ¸…å–®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo make config# or</span><br><span class="line">$ sudo make showconfig# or</span><br><span class="line">$ sudo make rmconfig</span><br></pre></td></tr></table></figure></li><li><p>ç·¨è­¯ä¸¦å®‰è£ Port</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo cd &#x2F;usr&#x2F;ports&#x2F;sysutils&#x2F;lsof</span><br><span class="line">$ sudo make install</span><br></pre></td></tr></table></figure></li><li><p>ç·¨è­¯åœ¨ /usr/ports Port ä¸¦å®‰è£åˆ° /usr/home/example/local</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo make WRKDIRPREFIX&#x3D;..&#x2F;ports PREFIX&#x3D;..&#x2F;local install</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£éç¨‹ä¸­æœƒå»ºç«‹å·¥ä½œç”¨çš„å­ç›®éŒ„ç”¨ä¾†å„²å­˜ç·¨è­¯æ™‚æš«å­˜çš„æª”æ¡ˆã€‚å¯ç§»é™¤æ­¤ç›®éŒ„ä¾†ç¯€çœç£ç¢Ÿç©ºé–“ä¸¦æ¼¸å°‘å¾€å¾Œå‡ç´šæ–°ç‰ˆ Port æ™‚é€ æˆå•é¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo make clean</span><br></pre></td></tr></table></figure></li><li><p>ç§»é™¤å·²å®‰è£çš„ Port</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo cd &#x2F;usr&#x2F;ports&#x2F;sysutils&#x2F;lsof</span><br><span class="line">$ sudo make deinstall</span><br></pre></td></tr></table></figure></li></ul><p>å®‰è£å¾Œçš„æ³¨æ„äº‹é …ï¼š</p><ul><li>å¤§éƒ¨ä»½æ‡‰ç”¨ç¨‹å¼å®‰è£æœƒåœ¨ <code>/usr/local/etc</code> å®‰è£è‡³å°‘ä¸€å€‹é è¨­çš„è¨­å®šæª”ã€‚</li><li>æ‡‰ç”¨ç¨‹å¼æä¾›çš„æ–‡ä»¶æœƒå®‰è£åˆ° <code>/usr/local/share/doc</code>ã€‚</li><li>éƒ¨ä»½æ‡‰ç”¨ç¨‹å¼æœƒä»¥æœå‹™çš„æ–¹å¼åŸ·è¡Œï¼Œåœ¨å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼å‰å‰éœ€è¦åŠ å…¥è¨­å®šåˆ° <code>/etc/rc.conf</code>ã€‚é€™äº›æ‡‰ç”¨ç¨‹å¼é€šå¸¸æœƒå®‰è£å•Ÿå‹• Script åˆ° <code>/usr/local/etc/rc.d</code>ã€‚</li></ul><h3 id="LinuxÂ®-Binary-ç›¸å®¹æ€§"><a href="#LinuxÂ®-Binary-ç›¸å®¹æ€§" class="headerlink" title="LinuxÂ® Binary ç›¸å®¹æ€§"></a>LinuxÂ® Binary ç›¸å®¹æ€§</h3><p>FreeBSD æä¾› LinuxÂ® Binary çš„ç›¸å®¹æ€§ï¼Œå…è¨±ä½¿ç”¨è€…åœ¨ FreeBSD ç³»çµ±ä¸Šä¸éœ€è¦ä¿®æ”¹å°±å¯ä»¥å®‰è£å’ŒåŸ·è¡Œå¤§éƒ¨ä»½çš„ LinuxÂ® Binaryã€‚</p><p>æœ€å¥½ä¸è¦ç›´æ¥å®‰è£… Linux çš„è½¯ä»¶ï¼Œè€Œä½¿ç”¨ FreeBSD æºä¸­çš„ Linux è½¯ä»¶ï¼Œä¸€èˆ¬ä»¥ <code>linux-package</code> å‘½åã€‚</p><ul><li><p>è¼‰å…¥ LinuxÂ® æ ¸å¿ƒæ¨¡çµ„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo kldload linux</span><br></pre></td></tr></table></figure></li><li><p>å° 64-ä½å…ƒçš„ç›¸å®¹æ€§</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo kldload linux64</span><br></pre></td></tr></table></figure></li><li><p>ç¢ºèªæ¨¡çµ„å·²è¼‰å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo kldstat</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£åŸºæœ¬çš„ LinuxÂ® ç¨‹å¼åº«å’Œ Binary</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg install emulators&#x2F;linux_base-c7</span><br></pre></td></tr></table></figure></li><li><p>Add the following line</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi &#x2F;etc&#x2F;fstab</span><br><span class="line">linprocfs   &#x2F;compat&#x2F;linux&#x2F;proclinprocfsrw00</span><br><span class="line">linsysfs    &#x2F;compat&#x2F;linux&#x2F;syslinsysfsrw00</span><br><span class="line">tmpfs    &#x2F;compat&#x2F;linux&#x2F;dev&#x2F;shmtmpfsrw,mode&#x3D;177700</span><br></pre></td></tr></table></figure></li><li><p>é–‹æ©Ÿæ™‚é–‹å•Ÿ LinuxÂ® ç›¸å®¹æ€§</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi &#x2F;etc&#x2F;rc.conf</span><br><span class="line">linux_enable&#x3D;&quot;YES&quot;</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£ LinuxÂ® ELF Binary</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo brandelf -t Linux my-linux-elf-binary</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£ä»¥ LinuxÂ® RPM ç‚ºåŸºç¤çš„æ‡‰ç”¨ç¨‹å¼,éœ€å…ˆå®‰è£ archivers/rpm4 å¥—ä»¶æˆ– Port</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg install rpm4</span><br><span class="line">$ sudo cd &#x2F;compat&#x2F;linux</span><br><span class="line">$ sudo rpm2cpio &lt; &#x2F;path&#x2F;to&#x2F;linux.archive.rpm | cpio -id</span><br></pre></td></tr></table></figure></li><li><p>Example</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg install linux-sublime3-3.2.2</span><br></pre></td></tr></table></figure></li></ul><h5 id="æ‰‹å‹•å®‰è£å…¶ä»–ç¨‹å¼åº«"><a href="#æ‰‹å‹•å®‰è£å…¶ä»–ç¨‹å¼åº«" class="headerlink" title="æ‰‹å‹•å®‰è£å…¶ä»–ç¨‹å¼åº«"></a>æ‰‹å‹•å®‰è£å…¶ä»–ç¨‹å¼åº«</h5><ul><li><p>åœ¨ LinuxÂ® ç³»çµ±ï¼Œå¯ä½¿ç”¨ ldd ä¾†æ‰¾å‡ºæ‡‰ç”¨ç¨‹å¼éœ€è¦å“ªå€‹å…±ç”¨ç¨‹å¼åº«</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">% ldd linuxdoom</span><br><span class="line">libXt.so.3 (DLL Jump 3.1) &#x3D;&gt; &#x2F;usr&#x2F;X11&#x2F;lib&#x2F;libXt.so.3.1.0</span><br></pre></td></tr></table></figure></li><li><p>è¤‡è£½ LinuxÂ® ç³»çµ±è¼¸å‡ºçµæœä¸­æœ€å¾Œä¸€æ¬„éœ€è¦çš„çš„æª”æ¡ˆåˆ° FreeBSD ç³»çµ±çš„ /compat/linuxã€‚ è¤‡è£½å®Œå¾Œï¼Œå»ºç«‹ç¬¦è™Ÿé€£çµ (Symbolic link) è‡³è¼¸å‡ºçµæœç¬¬ä¸€æ¬„çš„åç¨±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;compat&#x2F;linux&#x2F;usr&#x2F;X11&#x2F;lib&#x2F;libXt.so.3.1.0</span><br><span class="line">&#x2F;compat&#x2F;linux&#x2F;usr&#x2F;X11&#x2F;lib&#x2F;libXt.so.3 -&gt; libXt.so.3.1.0</span><br></pre></td></tr></table></figure></li></ul><h3 id="è‡ªè¨‚æ ¸å¿ƒ"><a href="#è‡ªè¨‚æ ¸å¿ƒ" class="headerlink" title="è‡ªè¨‚æ ¸å¿ƒ"></a>è‡ªè¨‚æ ¸å¿ƒ</h3><h5 id="ç‚ºä½•è¦ç·¨è­¯è‡ªè¨‚çš„æ ¸å¿ƒ"><a href="#ç‚ºä½•è¦ç·¨è­¯è‡ªè¨‚çš„æ ¸å¿ƒ" class="headerlink" title="ç‚ºä½•è¦ç·¨è­¯è‡ªè¨‚çš„æ ¸å¿ƒ?"></a>ç‚ºä½•è¦ç·¨è­¯è‡ªè¨‚çš„æ ¸å¿ƒ?</h5><p> è‡ªè¨‚æ ¸å¿ƒæœ‰è¨±å¤šé …å„ªé»ï¼Œå¦‚ï¼š</p><ul><li>åŠ é€Ÿé–‹æ©Ÿï¼Œå› ç‚ºè‡ªè¨‚çš„æ ¸å¿ƒåªéœ€è¦åµæ¸¬æ‚¨ç³»çµ±ä¸Šå­˜åœ¨çš„ç¡¬é«”ï¼Œæ‰€ä»¥è®“å•Ÿå‹•æ‰€èŠ±çš„éç¨‹æ›´æµæš¢å¿«é€Ÿã€‚</li><li>æ¸›å°‘è¨˜æ†¶é«”ä½¿ç”¨ï¼Œè‡ªè¨‚çš„æ ¸å¿ƒé€šå¸¸æœƒæ¯” <code>GENERIC</code> æ ¸å¿ƒä½¿ç”¨æ›´å°‘çš„è¨˜æ†¶é«”ï¼Œé€™å¾ˆé‡è¦ï¼Œå› ç‚ºæ ¸å¿ƒå¿…é ˆä¸€ç›´å­˜æ”¾åœ¨å¯¦é«”è¨˜æ†¶é«”å…§ã€‚</li><li>æ”¯æ´é¡å¤–çš„ç¡¬é«”ï¼Œè‡ªè¨‚çš„æ ¸å¿ƒå¯ä»¥å¢åŠ ä¸€äº› <code>GENERIC</code> æ ¸å¿ƒæ²’æœ‰æä¾›çš„ç¡¬é«”æ”¯æ´ã€‚</li></ul><h5 id="åµæ¸¬ç³»çµ±ç¡¬é«”"><a href="#åµæ¸¬ç³»çµ±ç¡¬é«”" class="headerlink" title="åµæ¸¬ç³»çµ±ç¡¬é«”"></a>åµæ¸¬ç³»çµ±ç¡¬é«”</h5><ul><li><p> <code>dmesg</code>  or <code>/var/run/dmesg.boot</code> </p></li><li><p><code>pciconf -lv</code></p></li><li><p>åœ¨ manæŒ‡ä»¤åŠ ä¸Š -k æ——æ¨™å¯åˆ—å‡ºæœ‰åŒ…å«æŒ‡å®šè£ç½®å“ç‰Œæˆ–åç¨±çš„æ‰‹å†Šé é¢æ¸…å–®ï¼š<code>man -k Intel</code></p></li></ul><h5 id="è¨­å®šæª”"><a href="#è¨­å®šæª”" class="headerlink" title="è¨­å®šæª”"></a>è¨­å®šæª”</h5><p><code>/usr/src/sys</code> ä¸‹å­ç›®éŒ„ä»£è¡¨è‘—æ”¯æ´çš„ç¡¬é«”æ¶æ§‹ (Architecture)ï¼Œæ¯å€‹æ”¯æ´çš„ç¡¬é«”æ¶æ§‹ä¸­æœƒæœ‰ <code>conf</code> å­ç›®éŒ„ï¼Œè£¡é¢å«æœ‰ä¾›è©²æ¶æ§‹ä½¿ç”¨çš„ <code>GENERIC</code> æ ¸å¿ƒè¨­å®šæª”ã€‚</p><p>èªªæ˜åœ¨<code>GENERIC</code> åŒç›®éŒ„çš„ <code>NOTES</code> æª”æ¡ˆä¸­ã€‚æ‰€æœ‰æ¶æ§‹é€šç”¨é¸é …ï¼Œåƒè€ƒ <code>/usr/src/sys/conf/NOTES</code>ã€‚</p><h3 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h3><h5 id="Screen-resolution-on-FreeBSD-on-VirtualBox"><a href="#Screen-resolution-on-FreeBSD-on-VirtualBox" class="headerlink" title="Screen resolution on FreeBSD on VirtualBox"></a>Screen resolution on FreeBSD on VirtualBox</h5><p>é—®é¢˜æè¿°ï¼šåœ¨virtualboxè™šæ‹Ÿæœºä¸‹ï¼Œæ— æ³•æ”¹å˜æ¡Œé¢åˆ†è¾¨ç‡ä¸º1366x768</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ VBoxManage setextradata &quot;FreeBSD&quot; VBoxInternal2&#x2F;EfiGraphicsResolution 1366x768</span><br></pre></td></tr></table></figure><h5 id="Disable-the-Forward-Back-buttons-on-my-mouse"><a href="#Disable-the-Forward-Back-buttons-on-my-mouse" class="headerlink" title="Disable the Forward/Back buttons on my mouse"></a>Disable the Forward/Back buttons on my mouse</h5><p>é—®é¢˜æè¿°ï¼šæµè§ˆç½‘é¡µæ—¶ï¼Œé¼ æ ‡æ»‘è½®æ»šåŠ¨æµè§ˆå™¨å°±ä¼šå‰è¿›åé€€ã€‚</p><p><span class="exturl" data-url="aHR0cHM6Ly91bml4LnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy8yMDU1MC9ob3ctdG8tZGlzYWJsZS10aGUtZm9yd2FyZC1iYWNrLWJ1dHRvbnMtb24tbXktbW91c2U=">Salved<i class="fa fa-external-link-alt"></i></span>ï¼š</p><ul><li><p>æ‰§è¡Œä¸‹é¢å‘½ä»¤åï¼Œä¸Šä¸‹æ»‘åŠ¨é¼ æ ‡æ»‘è½®ï¼Œçœ‹çœ‹æ˜ å°„åˆ°é‚£äº›buttonï¼Œä¸€èˆ¬æ˜¯buttons 8 and 9</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo xev | grep -A2 ButtonPress</span><br></pre></td></tr></table></figure></li><li><p>then disable button 8 and 9ï¼ˆå‰ææ˜¯æœ‰ä¸Šé¢çš„é—®é¢˜ï¼Œå¦åˆ™å°±ä¸è¦ç¦ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi ~&#x2F;.Xmodmap</span><br><span class="line">pointer &#x3D; 1 2 3 4 5 6 7 0 0 0 0 0</span><br></pre></td></tr></table></figure></li><li><p>test it with the command,command automatically when you log in; if yours doesnâ€™t, arrange for it to run when X starts.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo xmodmap ~&#x2F;.Xmodmap</span><br></pre></td></tr></table></figure></li></ul><h5 id="Install-chinese-font"><a href="#Install-chinese-font" class="headerlink" title="Install chinese font"></a>Install chinese font</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pkg search cjk# CJKï¼ˆä¸­æ—¥éŸ©ç»Ÿä¸€è¡¨æ„æ–‡å­—ï¼‰</span><br></pre></td></tr></table></figure><h5 id="è®¾å•ä½¿ç”¨æ¨¡å¼ä¸ºä¸å®‰å…¨"><a href="#è®¾å•ä½¿ç”¨æ¨¡å¼ä¸ºä¸å®‰å…¨" class="headerlink" title="è®¾å•ä½¿ç”¨æ¨¡å¼ä¸ºä¸å®‰å…¨"></a>è®¾å•ä½¿ç”¨æ¨¡å¼ä¸ºä¸å®‰å…¨</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi &#x2F;etc&#x2F;ttys</span><br><span class="line">console noneunknown off insecure</span><br></pre></td></tr></table></figure><h5 id="No-space-left-on-device"><a href="#No-space-left-on-device" class="headerlink" title="No space left on device"></a>No space left on device</h5><p>é—®é¢˜æè¿°ï¼šä½¿ç”¨ pkg update æ—¶æç¤ºè¿™ä¸ªé—®é¢˜ã€‚åŸå› æ˜¯ /tmp is too smallã€‚</p><p><span class="exturl" data-url="aHR0cHM6Ly9mb3J1bXMuZnJlZWJzZC5vcmcvdGhyZWFkcy9uby1zcGFjZS1sZWZ0LW9uLWRldmljZS42MTIzMi8=">Salved<i class="fa fa-external-link-alt"></i></span>: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi &#x2F;etc&#x2F;fstab</span><br><span class="line">tmpfs&#x2F;tmptmpfsrw,size&#x3D;25600000000# size ä»¥Byteä¸ºå•ä½</span><br></pre></td></tr></table></figure><h5 id="VirtualBoxâ„¢-guest-additions"><a href="#VirtualBoxâ„¢-guest-additions" class="headerlink" title="VirtualBoxâ„¢ guest additions"></a>VirtualBoxâ„¢ guest additions</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sudo cd &#x2F;usr&#x2F;ports&#x2F;emulators&#x2F;virtualbox-ose-additions &amp;&amp; make install clean</span><br><span class="line"></span><br><span class="line">$ sudo vi &#x2F;etc&#x2F;rc.conf</span><br><span class="line">vboxguest_enable&#x3D;&quot;YES&quot;</span><br><span class="line">vboxservice_enable&#x3D;&quot;YES&quot;</span><br><span class="line">vboxservice_flags&#x3D;&quot;--disable-timesync&quot;# è‹¥æœ‰ä½¿ç”¨ ntpdæˆ– ntpdateï¼Œä¾¿å¯é—œé–‰ä¸»æ©Ÿæ™‚é–“åŒæ­¥åŠŸèƒ½</span><br></pre></td></tr></table></figure><h5 id="Fish"><a href="#Fish" class="headerlink" title="Fish"></a>Fish</h5><p>Fish æ˜¯â€the <strong>f</strong>riendly <strong>i</strong>nteractive <strong>sh</strong>ellâ€çš„ç®€ç§°ï¼Œæœ€å¤§ç‰¹ç‚¹å°±æ˜¯æ–¹ä¾¿æ˜“ç”¨ã€‚</p><p>Fish ä¼šè‡ªåŠ¨åœ¨å…‰æ ‡åé¢ç»™å‡ºå»ºè®®ï¼Œè¡¨ç¤ºå¯èƒ½çš„é€‰é¡¹ï¼Œé¢œè‰²ä¸ºç°è‰²ã€‚å¦‚æœé‡‡çº³å»ºè®®ï¼Œå¯ä»¥æŒ‰ä¸‹<code>â†’</code>æˆ–<code>Control + F</code>ã€‚å¦‚æœåªé‡‡çº³ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥æŒ‰ä¸‹<code>Alt + â†’</code>ã€‚</p><p>è¾“å…¥å‘½ä»¤æ—¶ï¼ŒFish ä¼šè‡ªåŠ¨æ˜¾ç¤ºåŒ¹é…çš„ä¸Šä¸€æ¡å†å²è®°å½•ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…çš„å†å²è®°å½•ï¼ŒFish ä¼šçŒœæµ‹å¯èƒ½çš„ç»“æœï¼Œè‡ªåŠ¨è¡¥å…¨å„ç§è¾“å…¥ã€‚</p><h5 id="How-to-start-things-at-boot-time"><a href="#How-to-start-things-at-boot-time" class="headerlink" title="How to start things at boot time"></a><span class="exturl" data-url="aHR0cDovL3d3dy5mcmVlYnNkZGlhcnkub3JnLw==">How to start things at boot time<i class="fa fa-external-link-alt"></i></span></h5><ul><li><p>These directories are defined in <code>/etc/defaults/rc.conf</code>ï¼ˆä¸»è¦æ˜¯è¿è¡Œè„šæœ¬ï¼‰</p><ul><li><p>Default startup directory is <code>/usr/local/etc/rc.d/</code>. if you need the files to be executed in a specific order, try numbering the files. For example:</p><blockquote><p>000This.Will.Run.First.sh<br>020This.Will.Run.Next.sh<br>030And.Then.This.sh</p></blockquote></li><li><p>deprecated: <code>/etc/rc.local</code>        </p></li></ul></li></ul><ul><li><p>: DSBAutostart is a Qt program that allows you to add commands to be executed at session start.</p><p>ï¼ˆæœ¬è´¨å°±æ˜¯åœ¨ <code>.xinitrc</code> è°ƒç”¨ç¨‹åºæŒ‡ä»¤ï¼ŒGUI ç¨‹åºå¼€æœºå¯åŠ¨éƒ½éœ€æ”¾å…¥ <code>.xinitrc</code>ï¼Œåœ¨ Xorg å¯åŠ¨åè¿è¡Œï¼‰</p><ul><li><p>Installation</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cd &#x2F;usr&#x2F;ports&#x2F;x11&#x2F;dsbautostart &amp;&amp; make install distclean</span><br></pre></td></tr></table></figure></li><li><p>Usage</p><ul><li><p>Manual</p><pre><code>- Setup: Add the following command to your `~/.xinitrc`, or to your window manager&#39;s startup script (e.g. ~/.config/openbox/autostart.sh)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh ~&#x2F;.config&#x2F;DSB&#x2F;autostart.sh&amp;</span><br></pre></td></tr></table></figure>- `~/.config/DSB/autostart.sh`  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plank&amp;</span><br></pre></td></tr></table></figure></code></pre><ul><li>GUI: <code>Setting -&gt; DSBAutostart -&gt; Add Command</code>, example <code>plank</code>, then <code>Save</code> and <code>Quit</code></li></ul></li></ul></li></ul></li></ul><h3 id="BSDs"><a href="#BSDs" class="headerlink" title="BSDs"></a>BSDs</h3><p>NetBSD: <span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLmh1YXdlaWNsb3VkLmNvbS9OZXRCU0Qv">huaweicloud<i class="fa fa-external-link-alt"></i></span>ã€<span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLmFsaXl1bi5jb20vbmV0YnNkLz9zcG09YTJjNmguMTM2NTExMDQuMC4wLjRkODQzYmY0QXpKWVRY">aliyun<i class="fa fa-external-link-alt"></i></span>ã€<span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuLw==">tsinghua<i class="fa fa-external-link-alt"></i></span></p><p>OpenBSD: <span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLmh1YXdlaWNsb3VkLmNvbS9PcGVuQlNELw==">huaweicloud<i class="fa fa-external-link-alt"></i></span>ã€<span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLmFsaXl1bi5jb20vb3BlbmJzZC8/c3BtPWEyYzZoLjEzNjUxMTA0LjAuMC4xNGRiNWE1MHFGblhsNg==">aliyun<i class="fa fa-external-link-alt"></i></span>ã€<span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuLw==">tsinghua<i class="fa fa-external-link-alt"></i></span></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;&lt;p&gt;FreeBSD è¨ˆåŠƒçš„ç›®æ¨™åœ¨æ–¼æä¾›å¯ä½œä»»æ„ç”¨é€”çš„è»Ÿé«”è€Œä¸é™„å¸¶ä»»ä½•é™åˆ¶æ¢æ–‡ã€‚ æˆ‘å€‘ä¹‹ä¸­è¨±å¤šäººå°ç¨‹å¼ç¢¼ (ä»¥åŠè¨ˆç•«æœ¬èº«) éƒ½æœ‰éå¸¸å¤§çš„æŠ•å…¥ï¼Œ å› æ­¤ï¼Œç•¶ç„¶ä¸ä»‹æ„å¶çˆ¾æœ‰ä¸€äº›è³‡é‡‘ä¸Šçš„è£œå„Ÿï¼Œä½†æˆ‘å€‘ä¸¦æ²’æ‰“ç®—å …æ±ºåœ°è¦æ±‚å¾—åˆ°é€™é¡è³‡åŠ©ã€‚ æˆ‘å€‘èªç‚ºæˆ‘å€‘çš„é¦–è¦â€œä½¿å‘½â€æ˜¯ç‚ºä»»ä½•äººæä¾›ç¨‹å¼ç¢¼ï¼Œ ä¸ç®¡ä»–å€‘æ‰“ç®—ç”¨é€™äº›ç¨‹å¼ç¢¼åšä»€éº¼ï¼Œ å› ç‚ºé€™æ¨£ç¨‹å¼ç¢¼å°‡èƒ½å¤ è¢«æ›´å»£æ³›åœ°ä½¿ç”¨ï¼Œå¾è€Œç™¼æ®å…¶åƒ¹å€¼ã€‚ æˆ‘èªç‚ºé€™æ˜¯è‡ªç”±è»Ÿé«”æœ€åŸºæœ¬çš„ï¼ŒåŒæ™‚ä¹Ÿæ˜¯æˆ‘å€‘æ‰€å€¡å°çš„ä¸€å€‹ç›®æ¨™ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å€‘ç¨‹å¼ç¢¼æ¨¹ä¸­ï¼Œæœ‰è‹¥å¹²æ˜¯ä»¥ GNU é€šç”¨å…¬å…±æˆæ¬Šæ¢æ¬¾ (GPL) æˆ–è€… GNU è¼ƒå¯¬é¬†é€šç”¨å…¬å…±æˆæ¬Šæ¢æ¬¾ (LGPL) ç™¼ä½ˆçš„é‚£äº›ç¨‹å¼ç¢¼å¸¶æœ‰å°‘è¨±çš„é™„åŠ é™åˆ¶ï¼Œé‚„å¥½åªæ˜¯å¼·åˆ¶æ€§çš„è¦æ±‚é–‹æ”¾ç¨‹å¼ç¢¼è€Œä¸æ˜¯åˆ¥çš„ã€‚ ç”±æ–¼ä½¿ç”¨ GPL çš„è»Ÿé«”åœ¨å•†æ¥­ç”¨é€”ä¸Šæœƒå¢åŠ è‹¥å¹²è¤‡é›œæ€§ï¼Œå› æ­¤ï¼Œå¦‚æœå¯ä»¥é¸æ“‡çš„è©±ï¼Œ æˆ‘å€‘æœƒæ¯”è¼ƒå–œæ­¡ä½¿ç”¨é™åˆ¶ç›¸å°æ›´å¯¬é¬†çš„ BSD ç‰ˆæ¬Šä¾†ç™¼ä½ˆè»Ÿé«”ã€‚&lt;/p&gt;
&lt;footer&gt;&lt;strong&gt;Jordan Hubbard&lt;/strong&gt;&lt;cite&gt;&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly93d3cuZnJlZWJzZC5vcmcvZG9jL3poX1RXL2Jvb2tzL2hhbmRib29rLw==&quot;&gt;FreeBSD Handbook&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/cite&gt;&lt;/footer&gt;&lt;/blockquote&gt;</summary>
    
    
    
    
    <category term="Unix" scheme="https://vanehsiung.github.io/tags/Unix/"/>
    
  </entry>
  
</feed>
