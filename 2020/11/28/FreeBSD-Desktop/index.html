<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="google-site-verification" content="uXmcnam1s6y-h_YGHukGYhDQ8zMBAOHTHrJ6RfsDN6I">
  <meta name="msvalidate.01" content="687D92122214353CF2ACE3AEA2977A9C">
  <meta name="baidu-site-verification" content="code-pKrF6QVAhP">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Roboto:300,300italic,400,400italic,700,700italic|Noto+Sans+SC:300,300italic,400,400italic,700,700italic|Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css">
  <script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"vanehsiung.github.io","root":"/","scheme":"Gemini","version":"8.0.2","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="The FreeBSD Desktop series are about creating efficient desktop environment on the FreeBSD system.">
<meta property="og:type" content="article">
<meta property="og:title" content="FreeBSD Desktop">
<meta property="og:url" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/index.html">
<meta property="og:site_name" content="vBlog">
<meta property="og:description" content="The FreeBSD Desktop series are about creating efficient desktop environment on the FreeBSD system.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/freebsd-11-1-laptop-install-04.png">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/freebsd-install-03.png">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/freebsd-11-1-laptop-install-23.png">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/freebsd-11-1-laptop-install-24.png">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/xdm-black.png">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/desktop.png">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/openbox-theme-twm.png">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/openbox-polybar.jpg">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/taskbar-xfce.png">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/taskbar-tint-classic.jpg">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/taskbar-plank-eos.png">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/launcher-dmenu-run.jpg">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/launcher-rofi.jpg">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/keyboard-xev.jpg">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/keyboard-xbindkeys.jpg">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/locker-mate-screensaver.png">
<meta property="og:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/xlock-user-pass.png">
<meta property="article:published_time" content="2020-11-28T08:38:58.000Z">
<meta property="article:modified_time" content="2020-12-01T03:41:33.705Z">
<meta property="article:author" content="vane">
<meta property="article:tag" content="Unix">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/freebsd-11-1-laptop-install-04.png">


<link rel="canonical" href="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/">


<script data-pjax class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script><link rel="stylesheet" type="text/css" href="/css/injector.css" />

  <title>FreeBSD Desktop | vBlog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=sG-KKYP310LB0"></script>
    <script data-pjax>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'sG-KKYP310LB0');
      }
    </script>


  <script data-pjax>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f3032f7a989f15a8faf91348571efe03";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="vBlog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">vBlog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Vane Hsiung's Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/links/" rel="section"><i class="fas fa-link fa-fw"></i>Links</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>


 
<script>
  var OriginTitile = document.title;
  var titleTime;
  document.addEventListener("visibilitychange", function() {
    if (document.hidden) {
      document.title = "(つェ⊂)我藏好了哦~";
      clearTimeout(titleTime);
    } else {
      document.title = "(*´∇｀*) 被你发现啦~";
      titleTime = setTimeout(function() {
        document.title = OriginTitile;
      }, 2000);
    }
  });
</script>


</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Simplified-Boot"><span class="nav-text">Simplified Boot</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Reply"><span class="nav-text">Reply</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Install"><span class="nav-text">Install</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#BIOS"><span class="nav-text">BIOS</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Install-1"><span class="nav-text">Install</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Boot"><span class="nav-text">Boot</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#X11-Window-System"><span class="nav-text">X11 Window System</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#BIOS-or-UEFI"><span class="nav-text">BIOS or UEFI</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Packages"><span class="nav-text">Packages</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Group"><span class="nav-text">Group</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Login-Class"><span class="nav-text">Login Class</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Kernel-Module"><span class="nav-text">Kernel Module</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#X11-Window-System-Configuration"><span class="nav-text">X11 Window System Configuration</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#XDM-or-XINIT-STARTX"><span class="nav-text">XDM or XINIT&#x2F;STARTX</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#XDM-Black-Theme"><span class="nav-text">XDM Black Theme</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Client-Configuration"><span class="nav-text">Client Configuration</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Using-modesetting-Driver"><span class="nav-text">Using modesetting Driver</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Using-Dedicated-video-Login-Class-Instead-of-Global-One"><span class="nav-text">Using Dedicated video: Login Class Instead of Global One</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Tap-to-Click-on-Synaptics-Touchpad"><span class="nav-text">Tap to Click on Synaptics Touchpad</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Key-Components"><span class="nav-text">Key Components</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Window-Manager"><span class="nav-text">Window Manager</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Status-Bar"><span class="nav-text">Status Bar</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Task-Bar"><span class="nav-text">Task Bar</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Wallpaper-Handling"><span class="nav-text">Wallpaper Handling</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Application-Launcher"><span class="nav-text">Application Launcher</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Keyboard-Mouse-Shortcuts"><span class="nav-text">Keyboard&#x2F;Mouse Shortcuts</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Locking-Solution"><span class="nav-text">Locking Solution</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Blue-Light-Spectrum-Suppress"><span class="nav-text">Blue Light Spectrum Suppress</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuration"><span class="nav-text">Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Openbox"><span class="nav-text">Openbox</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E8%A7%81"><span class="nav-text">参见</span></a></li></ol></div>
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="vane"
      src="/uploads/avatar.png">
  <p class="site-author-name" itemprop="name">vane</p>
  <div class="site-description" itemprop="description">"Try not to become a man of success. Rather become a man of value."</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">5</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL1ZhbmVIc2l1bmc=" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;VaneHsiung"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOm1pY3JvZnV0Y3NAb3V0bG9vay5jb20=" title="E-Mail → mailto:microfutcs@outlook.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i>RSS</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9lbg=="><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span>
  </div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="vane">
      <meta itemprop="description" content=""Try not to become a man of success. Rather become a man of value."">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="vBlog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          FreeBSD Desktop
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-28 16:38:58" itemprop="dateCreated datePublished" datetime="2020-11-28T16:38:58+08:00">2020-11-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-12-01 11:41:33" itemprop="dateModified" datetime="2020-12-01T11:41:33+08:00">2020-12-01</time>
      </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/11/28/FreeBSD-Desktop/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/11/28/FreeBSD-Desktop/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>17k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>15 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>The FreeBSD Desktop series are about creating efficient desktop environment on the FreeBSD system.</p>
<a id="more"></a>

<h3 id="Simplified-Boot"><a href="#Simplified-Boot" class="headerlink" title="Simplified Boot"></a>Simplified Boot</h3><p>The default FreeBSD boot process is quite verbose with a lot of debugging information along with kernel messages.</p>
<p>This verbose information is usually useful for servers but not that much for laptops and/or desktop/workstation systems. The UNIX philosophy is to not ‘say’ anything to stdout if everything is OK, so stdout/stderr should only be used when something is wrong.</p>
<p>Rules: prompt in less then 10 lines</p>
<ul>
<li><p>First add the <code>boot_mute=YES</code> option to the <code>/boot/loader.conf</code> file. As we are here, You may as well add <code>autoboot_delay=2</code> parameter to the <code>/boot/loader.conf</code> file to speed up boot process by 8 seconds. Default delay is 10 seconds.</p>
</li>
<li><p>In most cases its just adding <code>1&gt; /dev/null</code> or <code>1&gt; /dev/null 2&gt; /dev/null</code> to not display unneeded information at boot process.</p>
<ul>
<li><p><code>/etc/rc.d/ldconfig</code></p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-		check_startmsgs &amp;&amp; echo &#x27;ELF ldconfig path:&#x27; $&#123;_LDC&#125;</span></span><br><span class="line"><span class="addition">+		check_startmsgs &amp;&amp; echo &#x27;ELF ldconfig path:&#x27; $&#123;_LDC&#125; 1&gt; /dev/null</span></span><br><span class="line"><span class="deletion">-		echo &#x27;32-bit compatibility ldconfig path:&#x27; $&#123;_LDC&#125;</span></span><br><span class="line"><span class="addition">+		echo &#x27;32-bit compatibility ldconfig path:&#x27; $&#123;_LDC&#125; 1&gt; /dev/null</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>/etc/rc.d/netif</code></p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-		/sbin/ifconfig $&#123;ifn&#125;</span></span><br><span class="line"><span class="addition">+		/sbin/ifconfig $&#123;ifn&#125; 1&gt; /dev/null 2&gt; /dev/null</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>/etc/rc.d/nfsclient</code></p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-		rpc.umntall -k</span></span><br><span class="line"><span class="addition">+		rpc.umntall -k 2&gt; /dev/null</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>/etc/rc.d/random</code></p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-       if [ $&#123;harvest_mask&#125; -gt 0 ]; then</span></span><br><span class="line"><span class="deletion">-               echo -n &#x27;Setting up harvesting: &#x27;</span></span><br><span class="line"><span class="deletion">-               $&#123;SYSCTL&#125; kern.random.harvest.mask=$&#123;harvest_mask&#125; &gt; /dev/null</span></span><br><span class="line"><span class="deletion">-               $&#123;SYSCTL_N&#125; kern.random.harvest.mask_symbolic</span></span><br><span class="line"><span class="deletion">-       fi</span></span><br><span class="line"><span class="addition">+       #if [ $&#123;harvest_mask&#125; -gt 0 ]; then</span></span><br><span class="line"><span class="addition">+       #      echo -n &#x27;Setting up harvesting: &#x27;</span></span><br><span class="line"><span class="addition">+       #      $&#123;SYSCTL&#125; kern.random.harvest.mask=$&#123;harvest_mask&#125; &gt; /dev/null</span></span><br><span class="line"><span class="addition">+       #      $&#123;SYSCTL_N&#125; kern.random.harvest.mask_symbolic</span></span><br><span class="line"><span class="addition">+       #fi</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>/etc/rc.d/routing</code></p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-		eval static_$&#123;_a&#125; delete $_if</span></span><br><span class="line"><span class="addition">+		eval static_$&#123;_a&#125; delete $_if 1&gt; /dev/null 2&gt; /dev/null</span></span><br><span class="line"><span class="deletion">-		static_$2 add $3</span></span><br><span class="line"><span class="addition">+		static_$2 add $3 1&gt; /dev/null 2&gt; /dev/null</span></span><br><span class="line"><span class="deletion">-		static_$2 add $3</span></span><br><span class="line"><span class="addition">+		static_$2 add $3 1&gt; /dev/null 2&gt; /dev/null</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>/etc/rc.d/devmatch</code></p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-		echo &quot;Autoloading module: $&#123;m&#125;&quot;</span></span><br><span class="line"><span class="addition">+		#echo &quot;Autoloading module: $&#123;m&#125;&quot;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>I prefer not to use a login manager so I have an alias named <code>x</code> to <code>xinit</code> command. This way after I login I type <code>x</code> press [ENTER] and x11 desktop is started.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x: aliased to xinit ~&#x2F;.xinitrc -- -dpi 75 -nolisten tcp 1&gt; &#x2F;dev&#x2F;null 2&gt; &#x2F;dev&#x2F;null</span><br></pre></td></tr></table></figure>
</li>
<li><p>we can silence the FreeBSD boot process even more. Just add <code>rc_startmsgs=&quot;NO&quot;</code> to your <code>/etc/rc.conf</code> file.</p>
</li>
</ul>
<h5 id="Reply"><a href="#Reply" class="headerlink" title="Reply"></a>Reply</h5><p>For troubleshooting issues, Most boot messages can be found under:</p>
<ul>
<li>dmesg</li>
<li>(cat|tail|grep|less|more..) /var/log/messages</li>
</ul>
<p>Also don’t really need it printing the default routes, netstat -r works great.</p>
<p>Tmux is useful.</p>
<p>(dislike)To disable the boot menu, put the following line in <code>/boot/loader.conf</code>: <code>beastie_disable=&quot;YES&quot;</code></p>
<h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><h5 id="BIOS"><a href="#BIOS" class="headerlink" title="BIOS"></a>BIOS</h5><p>Disable unused (Express Card/Bluetooth/Camera/Fingerprint Reader/…) and unwanted options (Intel AMT/Security Chip/UEFI/…).</p>
<h5 id="Install-1"><a href="#Install-1" class="headerlink" title="Install"></a>Install</h5><ul>
<li><p>To put the image on the pendrive we will use the dd tool available on almost any Mac OS X (macOS) and Linux system. For Windows You will have to download it from here – <span class="exturl" data-url="aHR0cDovL3d3dy5jaHJ5c29jb21lLm5ldC9kZA==">dd for windows<i class="fa fa-external-link-alt"></i></span>( bs=1M on Linux/Windows ).</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if&#x3D;FreeBSD-11.1-RELEASE-amd64-memstick.img of&#x3D;&#x2F;dev&#x2F;da1 bs&#x3D;1m</span><br></pre></td></tr></table></figure>
</li>
<li><p>When we have a new machine there is always a problem with new name for it. The RFC 1178 <span class="exturl" data-url="aHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzExNzg=">Choosing a Name for Your Computer<i class="fa fa-external-link-alt"></i></span> from 1990 year tries to address that issue </p>
</li>
<li><p>We do not need any additional components, with all deselected as shown below only the (not shown) base and kernel will be installed.</p>
</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/freebsd-11-1-laptop-install-04.png" class="" title="FreeBSD">

<ul>
<li>We will use ZFS because we want to use Boot Environments with sysutils/beadm port.<ul>
<li>Hit [ENTER] on the <code>Pool Type/Disks</code> to select target disk to install FreeBSD on.</li>
<li>Now (in FreeBSD 12.x) it is possible to install FreeBSD on GELI encrypted root on ZFS pool without any additional partitions or filesystems. You need to select is <code>Yes</code> for the <code>Encryption</code> part .</li>
<li>I advice using <code>GPT (BIOS+UEFI)</code> as it will support both system types so when you are running BIOS system now and will move the disk to other system that boots with UEFI it will also just work out of the box.</li>
<li>We will set SWAP size to <code>0</code> (no SWAP) as it will not be needed. If we will need SWAP in the future, then we will create ZVOL on ZFS and use it as a SWAP device.</li>
</ul>
</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/freebsd-install-03.png" class="" title="FreeBSD">

<ul>
<li>Select services as shown below.</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/freebsd-11-1-laptop-install-23.png" class="" title="FreeBSD">

<ul>
<li>Enable all security hardening features as shown below.</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/freebsd-11-1-laptop-install-24.png" class="" title="FreeBSD">

<h5 id="Boot"><a href="#Boot" class="headerlink" title="Boot"></a>Boot</h5><p>If You will have attached LAN cable and your interface is <code>em0</code> (check <code>ifconfig</code> command output) then <code>dhclient em0</code> command should grant You the working connection to the Internet – assuming that You have DHCP server on that network. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig em0 up</span><br><span class="line"># dhclient em0</span><br></pre></td></tr></table></figure>

<p>To test the network connectivity use the <code>ping</code> command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ping -c 3 freebsd.org</span><br></pre></td></tr></table></figure>

<p>If You would like to connect to the World with wireless connection then here are the needed commands. First lets check what wireless card You have.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># sysctl net.wlan.devices</span><br></pre></td></tr></table></figure>

<p>We will now create <code>wlan</code> virtual device on top of our <code>iwn0</code> device and bring it up.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig wlan0 create wlandev iwn0</span><br><span class="line"># ifconfig wlan0 up</span><br></pre></td></tr></table></figure>

<p>We can scan for existing nearby WiFi access points if needed.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig wlan0 scan</span><br></pre></td></tr></table></figure>

<p>Now we need to add the desired WiFi network to the /etc/wpa_supplicant.conf file as shown below.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">network&#x3D;&#123;</span><br><span class="line">  ssid&#x3D;&quot;WIFI-NETWORK-NAME&quot;</span><br><span class="line">  psk&#x3D;&quot;PASSWORD&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Then You may connect to it using the <code>wpa_supplicant</code> daemon. Hit the <code>[CTRL]+[Z]</code> key combination to put the process into suspended state. Then we type the <code>bg</code> command to put it back into running state, but in the background so we can continue to type next commands.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># wpa_supplicant -i wlan0 -c &#x2F;etc&#x2F;wpa_supplicant.conf</span><br></pre></td></tr></table></figure>

<p>Now we will request for the IP address from the access point DHCP server.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># dhclient wlan0</span><br></pre></td></tr></table></figure>

<h3 id="X11-Window-System"><a href="#X11-Window-System" class="headerlink" title="X11 Window System"></a>X11 Window System</h3><h5 id="BIOS-or-UEFI"><a href="#BIOS-or-UEFI" class="headerlink" title="BIOS or UEFI"></a>BIOS or UEFI</h5><p>First things first, if You find a device that is not supported by any ‘accelerated’ driver like <code>intel</code> or <code>nvidia</code>. You would use <code>vesa</code> driver (Video Electronics Standards Association) while booting in BIOS mode and You will use <code>scfb</code> driver (System Console Frame Buffer) while booting on UEFI mode. This can be checked by </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% sysctl machdep.bootmethod</span><br></pre></td></tr></table></figure>

<h5 id="Packages"><a href="#Packages" class="headerlink" title="Packages"></a>Packages</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pkg install xorg xdm xterm openbox xf86-video-intel</span><br></pre></td></tr></table></figure>

<h5 id="Group"><a href="#Group" class="headerlink" title="Group"></a>Group</h5><p>To have hardware accelerated X11 You will also need to add your regular user to the <code>video</code> group.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pw groupmod video -m username</span><br></pre></td></tr></table></figure>

<h5 id="Login-Class"><a href="#Login-Class" class="headerlink" title="Login Class"></a>Login Class</h5><p>Remember to also add UTF-8 as the default encoding in the <code>/etc/login.conf</code> file as show below. Also, after adding them, run the <code>cap_mkdb /etc/login.conf</code> command as root and relogin with your regular user.</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+		:charset=UTF-8:\</span></span><br><span class="line"><span class="addition">+		:lang=en_US.UTF-8:\</span></span><br></pre></td></tr></table></figure>

<p>The UTF-8 encoding – same as in the <code>lang</code> parameter in the <code>/etc/login.conf</code> file – must be added at the begining of your <code>~/.xinitrc</code> file, like that:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LC_ALL&#x3D;en_US.UTF-8</span><br></pre></td></tr></table></figure>

<h5 id="Kernel-Module"><a href="#Kernel-Module" class="headerlink" title="Kernel Module"></a>Kernel Module</h5><p>Most computers/laptops/servers will have integrated GPU which should be supported by the X11 <code>intel</code> driver and:</p>
<ul>
<li><code>/boot/kernel/i915kms.ko</code> from base system</li>
<li><code>/boot/modules/i915kms.ko</code> from <code>drm-next-kmod</code> package (port moved to graphics/drm-fbsd12.0-kmod on 2018-12-09)</li>
</ul>
<p>To add the KMS (Kernel Mode Setting) Intel module loading into the <code>/etc/rc.conf</code> file put the line below into it.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kld_list&#x3D;&quot;$&#123;kld_list&#125; i915kms&quot;</span><br></pre></td></tr></table></figure>

<p>In case of need to use <code>drm-next-kmod</code> module instead of the base system one, your <code>/etc/rc.conf</code> file would look like that one below.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kld_list&#x3D;&quot;$&#123;kld_list&#125; &#x2F;boot&#x2F;modules&#x2F;i915kms.ko&quot;</span><br></pre></td></tr></table></figure>

<p>If you find yourself in the situation that the <code>drm-next-kmod</code> would still not support your latest graphics card then you may try the latest version of the <code>drm-next-kmod</code>.</p>
<h5 id="X11-Window-System-Configuration"><a href="#X11-Window-System-Configuration" class="headerlink" title="X11 Window System Configuration"></a>X11 Window System Configuration</h5><p>You can just configure these parts of X11 server that You need without touching other parts. This individual configuration is done in the <code>/usr/local/etc/X11/xorg.conf.d</code> directory with individual files for each setting.</p>
<ul>
<li><p>The DontZap option is to enable the X11 server abort with <code>[CTRL] + [ALT] + [BACKSPACE]</code> shortcut.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;flags.conf</span><br><span class="line">Section &quot;ServerFlags&quot;</span><br><span class="line">  Option &quot;DontZap&quot; &quot;off&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>terminate:ctrl_alt_bksp</code> to allow termination of the X11 server with <code>[CTRL] + [ALT] + [BACKSPACE]</code> shortcut and <code>ctrl:nocaps</code> to ignore the Caps Lock key as I also find that useful.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;keyboard.conf</span><br><span class="line">Section &quot;InputDevice&quot;</span><br><span class="line">  Identifier &quot;Keyboard0&quot;</span><br><span class="line">  Driver &quot;kbd&quot;</span><br><span class="line">  Option &quot;XkbLayout&quot; &quot;us&quot;</span><br><span class="line">  Option &quot;XkbOptions&quot; &quot;terminate:ctrl_alt_bksp,ctrl:nocaps&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure>
</li>
<li><p>graphics card configuration</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;card.conf</span><br><span class="line">Section &quot;Device&quot;</span><br><span class="line">  Identifier &quot;Card0&quot;</span><br><span class="line">  Option &quot;DPMS&quot;</span><br><span class="line">  Driver &quot;intel&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="XDM-or-XINIT-STARTX"><a href="#XDM-or-XINIT-STARTX" class="headerlink" title="XDM or XINIT/STARTX"></a>XDM or XINIT/STARTX</h5><p>You will also have to decide how You want to start your X11 Window Server, you may login in plan text console and then type <code>xinit</code> or <code>startx</code> to read your <code>~/.xinitrc</code> configuration and daemons or You may want to use X11 Login manager such as <code>xdm/sddm/slim</code> with <code>~/.xsession</code> configuration to load after successful login. The difference between <code>xinit</code> and <code>startx</code> is that <code>startx</code> command executes <code>xinit</code> command with arguments.</p>
<p>When I use <code>xinit</code> to directly start the X11 server I use an alias to <code>xinit</code> with these parameters:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias x&#x3D;&#39;xinit ~&#x2F;.xinitrc -- -dpi 75 -nolisten tcp&#39;</span><br></pre></td></tr></table></figure>

<p>I keep that alias in the <code>~/.zshrc</code> file.</p>
<p>While <code>xinit</code> run commands based on the <code>~/.xinitrc</code> file the XDM login manager looks for the <code>~/.xsession</code> file. As You will be loading same stuff regardless of the startup method we will create a link of <code>~/.xsession</code> pointing to the <code>~/.xinitrc</code> file. This way either method You choose You will always end with started X11 session.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% ln -s ~&#x2F;.xinitrc ~&#x2F;.xsession</span><br></pre></td></tr></table></figure>

<p>One more case about the <code>~/.xinitrc</code> (or <code>~/.xsession</code>) file. It is interpreted as a shell script (and yes you can do <code>if/then/else/fi</code> and <code>case/esac</code> or <code>for/while</code> POSIX shell scripting in it) but it does not need to be executable. The last command in this file MUST NOT to be put in the background (must be without the <code>&amp;</code> char at the end) because the X11 session will end.</p>
<h5 id="XDM-Black-Theme"><a href="#XDM-Black-Theme" class="headerlink" title="XDM Black Theme"></a>XDM Black Theme</h5><p>To configure this black XDM theme You will need to modify contents of two files as show below.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xdm&#x2F;Xsetup_0</span><br><span class="line">xsetroot -solid black</span><br></pre></td></tr></table></figure>

<p>This we will set black background on the login screen on the :<code>0</code> X11 server – the default one.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xdm&#x2F;Xresources</span><br><span class="line">xlogin.Login.greeting:</span><br><span class="line">xlogin.Login.unsecureGreeting:</span><br><span class="line">xlogin.Login.fail:                Fail.</span><br><span class="line">xlogin.Login.changePasswdMessage: Change.</span><br><span class="line">xlogin.Login.namePrompt:          Username:</span><br><span class="line">xlogin.Login.passwdPrompt:        Password:</span><br><span class="line">xlogin.Login.echoPasswd:          true</span><br><span class="line">xlogin.Login.background:          black</span><br><span class="line">xlogin.Login.foreground:          white</span><br><span class="line">xlogin.Login.failColor:           #cccccc</span><br><span class="line">xlogin.Login.inpColor:            black</span><br><span class="line">xlogin.Login.promptColor:         #aaaaaa</span><br><span class="line">xlogin.Login.face:                courier:size&#x3D;13:style&#x3D;Bold</span><br><span class="line">xlogin.Login.failFace:            courier:size&#x3D;13:style&#x3D;Bold</span><br><span class="line">xlogin.Login.promptFace:          courier:size&#x3D;13:style&#x3D;Normal</span><br><span class="line">xlogin.Login.greetFace:           courier:size&#x3D;13</span><br><span class="line">xlogin.Login.width:               400</span><br></pre></td></tr></table></figure>

<img data-src="/2020/11/28/FreeBSD-Desktop/xdm-black.png" class="" title="FreeBSD">

<h5 id="Client-Configuration"><a href="#Client-Configuration" class="headerlink" title="Client Configuration"></a>Client Configuration</h5><p> the simple <code>~/.xinitrc</code> file with <code>Openbox</code> window manager, prestarted <code>xterm</code> terminal and black background for our simple session.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">% cat ~&#x2F;.xinitrc</span><br><span class="line"># SET PROPER locale(1) with LC_ALL VARIABLE.</span><br><span class="line">  export LC_ALL&#x3D;en_US.UTF-8</span><br><span class="line"></span><br><span class="line"># PRESTARTED APPS</span><br><span class="line">  xterm &amp;</span><br><span class="line">  xsetroot -solid black &amp;</span><br><span class="line"></span><br><span class="line"># WINDOW MANAGER</span><br><span class="line">  openbox</span><br></pre></td></tr></table></figure>

<img data-src="/2020/11/28/FreeBSD-Desktop/desktop.png" class="" title="FreeBSD">

<h5 id="Using-modesetting-Driver"><a href="#Using-modesetting-Driver" class="headerlink" title="Using modesetting Driver"></a>Using modesetting Driver</h5><p>If you use <code>i915kms</code> kernel module, you don’t need to install <code>xf86-video-intel</code>, the <code>modesetting</code> generic DDX driver that is built in the X server, will do just well. The xf86-video-intel might even cause you troubles.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;card.conf</span><br><span class="line">Section &quot;Device&quot;</span><br><span class="line">  Identifier &quot;Card0&quot;</span><br><span class="line">  Option &quot;DPMS&quot;</span><br><span class="line">  Driver &quot;modesetting&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure>

<h5 id="Using-Dedicated-video-Login-Class-Instead-of-Global-One"><a href="#Using-Dedicated-video-Login-Class-Instead-of-Global-One" class="headerlink" title="Using Dedicated video: Login Class Instead of Global One"></a>Using Dedicated video: Login Class Instead of Global One</h5><p>If you modify <code>/etc/login.conf</code>, you are modifying the systemwide locale for the default login class to which all users belong (also user www for Apache, for example).</p>
<p>Add this login class to the <code>/etc/login.conf</code> file.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">video:\</span><br><span class="line">        :charset&#x3D;UTF-8:\</span><br><span class="line">        :lang&#x3D;en_US.UTF-8:\</span><br><span class="line">        :tc&#x3D;default:</span><br></pre></td></tr></table></figure>

<p>Rebuild the login class database.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cap_mkdb &#x2F;etc&#x2F;login.conf</span><br></pre></td></tr></table></figure>

<p>Lets set the login class to video for the vuk user.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pw usermod -L video -n vuk</span><br></pre></td></tr></table></figure>

<p>How the account looks after setting the login class.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># grep vuk &#x2F;etc&#x2F;master.passwd</span><br><span class="line">vuk:&#123;REMOVED&#125;:1000:1000:video:0:0:vuk:&#x2F;home&#x2F;vuk:&#x2F;bin&#x2F;sh</span><br></pre></td></tr></table></figure>

<p>Now logout and login again to make that work. View the changes through the <code>locale</code> command.</p>
<h5 id="Tap-to-Click-on-Synaptics-Touchpad"><a href="#Tap-to-Click-on-Synaptics-Touchpad" class="headerlink" title="Tap to Click on Synaptics Touchpad"></a>Tap to Click on Synaptics Touchpad</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># pkg install xf86-input-synaptics</span><br><span class="line"></span><br><span class="line"># cat &#x2F;usr&#x2F;local&#x2F;etc&#x2F;X11&#x2F;xorg.conf.d&#x2F;touchpad.conf</span><br><span class="line">Section &quot;InputClass&quot;</span><br><span class="line">  Identifier &quot;touchpad&quot;</span><br><span class="line">  MatchIsTouchpad &quot;on&quot;</span><br><span class="line">  Driver &quot;libinput&quot;</span><br><span class="line">  Option &quot;Tapping&quot; &quot;on&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure>

<h3 id="Key-Components"><a href="#Key-Components" class="headerlink" title="Key Components"></a>Key Components</h3><h5 id="Window-Manager"><a href="#Window-Manager" class="headerlink" title="Window Manager"></a>Window Manager</h5><p>The <span class="exturl" data-url="aHR0cHM6Ly93d3cuYm94LWxvb2sub3JnL3AvMTAxNzgzMi8=">TWM<i class="fa fa-external-link-alt"></i></span> <em>Openbox</em> theme.</p>
<img data-src="/2020/11/28/FreeBSD-Desktop/openbox-theme-twm.png" class="" title="FreeBSD">

<p>If You would like to increase your knowledge about Openbox then check the official documentation: <span class="exturl" data-url="aHR0cDovL29wZW5ib3gub3JnL3dpa2kvTWFpbl9QYWdl">Openbox<i class="fa fa-external-link-alt"></i></span></p>
<h5 id="Status-Bar"><a href="#Status-Bar" class="headerlink" title="Status Bar"></a>Status Bar</h5><p>Also known as information bar, the place on the screen that would provide You needed information such as current date and time, CPU, RAM and storage usage, current network information or battery status.</p>
<ul>
<li>While <code>Xmobar</code> is nice solution it comes with about 2 GB of dependencies of Haskell and Haskell libraries.</li>
<li>While <code>Polybar</code> can look very nice on screenshots it is a lot more heavy on resources and is limited only to modules/features that were implemented in it.</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/openbox-polybar.jpg" class="" title="FreeBSD">

<ul>
<li>I have used <code>Conky</code> for quite long time but after recent tests I made <code>Dzen2</code> is a lot less on resources then Conky while doing the same thing. </li>
</ul>
<h5 id="Task-Bar"><a href="#Task-Bar" class="headerlink" title="Task Bar"></a>Task Bar</h5><p>A taskbar is an element of a graphical user interface which has various purposes. It typically shows which programs are currently running.</p>
<ul>
<li>You can use classic taskbar like <code>XFCE Panel</code> used in the XFCE desktop environment.</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/taskbar-xfce.png" class="" title="FreeBSD">

<ul>
<li>You can also configure <code>Tint2</code> that way. But it only shows applications that are active on the current desktop.</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/taskbar-tint-classic.jpg" class="" title="FreeBSD">

<ul>
<li>One of the greatest taskbars of all time was/is the Mac OS X Dock (now macOS Dock).  It also has an indicator showing if application is launched. Currently the best and lightest solution for providing the dock-like functionality on open desktops seems to be <code>Plank</code>.</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/taskbar-plank-eos.png" class="" title="FreeBSD">

<h5 id="Wallpaper-Handling"><a href="#Wallpaper-Handling" class="headerlink" title="Wallpaper Handling"></a>Wallpaper Handling</h5><p>Some people have a set of favorite wallpapers and setup random wallpaper from this set of favorites to show up every once in a while.</p>
<p>While <code>Feh</code> main/original function is to be ultra fast image viewer it also has an option to properly setup a wallpaper on a X11 desktop.</p>
<h5 id="Application-Launcher"><a href="#Application-Launcher" class="headerlink" title="Application Launcher"></a>Application Launcher</h5><p>While not being any crucial role of the desktop environment it have its uses and sometimes save time.</p>
<p>Lets start with resources, the <code>Rofi</code> implementation of application launcher uses almost 3 times more RAM  then <code>Dmenu</code> solution.</p>
<ul>
<li>Desktop with Dmenu launched and with <code>alc</code> characters inserted to ‘filter’ commands in the search of a calculator application.</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/launcher-dmenu-run.jpg" class="" title="FreeBSD">

<ul>
<li><p>The Rofi requires simple command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% rofi -show run -theme solarized_alternate -font &quot;Monaco 8&quot;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/launcher-rofi.jpg" class="" title="FreeBSD">

<h5 id="Keyboard-Mouse-Shortcuts"><a href="#Keyboard-Mouse-Shortcuts" class="headerlink" title="Keyboard/Mouse Shortcuts"></a>Keyboard/Mouse Shortcuts</h5><p>While most window managers and desktop environments offer some kind of shortcuts or tools to define your own ones. its often quite complicated to force them to do exactly what you want. </p>
<ul>
<li>The <code>xev</code> is used to read what has keyboard key has been pressed or which mouse button was used.</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/keyboard-xev.jpg" class="" title="FreeBSD">

<ul>
<li>The <code>Xmodmap</code> is used to assign or rename keys to make something different.</li>
<li>Similarly like xev the <code>xbindkeys</code> comes with its own window to catch events.</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/keyboard-xbindkeys.jpg" class="" title="FreeBSD">

<ul>
<li>Sometimes you want to fake that some keys were pressed – but without pressing them. This is where <code>xdotool</code> comes handy – it can generate any keyboard shortcut and send it to and application in X11 environment. </li>
</ul>
<h5 id="Locking-Solution"><a href="#Locking-Solution" class="headerlink" title="Locking Solution"></a>Locking Solution</h5><ul>
<li>From all the nice looking solutions providing screen lock on the X11 I found <code>mate-screensaver</code> the best choice for this task ( saves battery time ). The mate-screensaver has to be started and run in the background with, well <code>mate-screensaver</code> command – placed somewhere in the <code>~/.xinitrc</code> or <code>~/.xsession</code> file. Then we would be able to invoke <code>mate-screensaver-command --lock</code> command to make the actual screen lock.</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/locker-mate-screensaver.png" class="" title="FreeBSD">

<ul>
<li><p>When mate-screensaver will not be available or functional we will use <code>xlock</code> as failover solution. The xlock tool appearance can be configured by specifying arguments.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">FONT&#x3D;&#39;-*-fixed-*-*-*-*-10-*-*-*-*-*-iso8859-2&#39;</span><br><span class="line">xlock \</span><br><span class="line">  -mode image \</span><br><span class="line">  -planfont &quot;$&#123;FONT&#125;&quot; \</span><br><span class="line">  -font     &quot;$&#123;FONT&#125;&quot; \</span><br><span class="line">  -username &#39;user: &#39; \</span><br><span class="line">  -password &#39;pass:&#39; \</span><br><span class="line">  -info &#39; &#39; \</span><br><span class="line">  -validate &#39;Checking.&#39; \</span><br><span class="line">  -invalid &#39;Nope. &#39; \</span><br><span class="line">  -background gray20 \</span><br><span class="line">  -foreground gray60 \</span><br><span class="line">  -dpmsoff 1 \</span><br><span class="line">  -icongeometry 64x64 \</span><br><span class="line">  -echokeys \</span><br><span class="line">  -echokey &#39;*&#39; \</span><br><span class="line">  -bitmap &#x2F;home&#x2F;vermaden&#x2F;.icons&#x2F;vermaden&#x2F;xlock.xpm \</span><br><span class="line">  -count 1 \</span><br><span class="line">  -delay 10000000 \</span><br><span class="line">  -erasemode no_fade \</span><br><span class="line">  +showdate \</span><br><span class="line">  +description</span><br></pre></td></tr></table></figure>

</li>
</ul>
<img data-src="/2020/11/28/FreeBSD-Desktop/xlock-user-pass.png" class="" title="FreeBSD">

<ul>
<li><p>The <code>xautolock</code> will be used to automatically lock the screen (invoke mate-screensaver or xlock command) after defined period of inactivity time.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">% xautolock \</span><br><span class="line">    -time 1 \</span><br><span class="line">    -locker \</span><br><span class="line">    ~&#x2F;bin&#x2F;example-lock-handler.sh \</span><br><span class="line">    -resetsaver</span><br></pre></td></tr></table></figure>

<p>The xautolock also has to be started and run in the background using the <code>~/.xinitrc</code> or <code>~/.xsession</code> file.</p>
</li>
</ul>
<h5 id="Blue-Light-Spectrum-Suppress"><a href="#Blue-Light-Spectrum-Suppress" class="headerlink" title="Blue Light Spectrum Suppress"></a>Blue Light Spectrum Suppress</h5><p>Automatically adjusts color temperature of the screen according to your current time in your location.</p>
<ul>
<li><p>While <span class="exturl" data-url="aHR0cHM6Ly9qdXN0Z2V0Zmx1eC5jb20v">F.lux<i class="fa fa-external-link-alt"></i></span>  (closed source) does not provide a native binary for FreeBSD it does offer such binary for Linux and as FreeBSD provides Linux Binary Compatibility its possible to use it on FreeBSD. To use F.lux just start it in the <code>~/.xinitrc</code> or <code>~/.xsession</code> file like that.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~&#x2F;path&#x2F;to&#x2F;bin&#x2F;xflux -l 33.54321 -g 11.12345 &amp;</span><br></pre></td></tr></table></figure>

<p>Of course 33.54321 is latitude and 11.12345 is longitude of your localization.</p>
</li>
<li><p><code>Redshift</code> is the solution that I propose to use as open source blue light spectrum suppressor. Similarly like with the F.lux to start Redshift just put it in the <code>~/.xinitrc</code> or <code>~/.xsession</code> file like that.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">% redshift -l 33.54321:11.12345 -g 0.9 &amp;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Someone else suggested trying <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtaXIvc2N0ZA==">sctd<i class="fa fa-external-link-alt"></i></span> which is sct but rewritten/modified to be a daemon that will automatically change the color temperature during the day (or night). The sctd uses smaller about of RAM memory, uses less libraries and size of these libraries is smaller then what redshfit needs. </p>
</li>
</ul>
<h3 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h3><h5 id="Openbox"><a href="#Openbox" class="headerlink" title="Openbox"></a>Openbox</h5><ul>
<li><p><code>doas</code> (sudo equivalent) </p>
</li>
<li><p>Font: Download them and extract them like that into the <code>~/.fonts</code> directory, if if does not exists, create it. To make sure that Openbox will see them you can verify it using the <code>fc-match</code> command like below.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">% fc-match &#39;Ubuntu Mono&#39;</span><br><span class="line">ubuntu-mono-regular.ttf: &quot;Ubuntu Mono&quot; &quot;Regular&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Openbox: Openbox consists mostly of two files. <code>~/.config/openbox/menu.xml</code> and <code>~/.config/openbox/rc.xml</code>. The icons for the Openbox menu are kept under <code>~/.config/openbox/icons</code> directory.</p>
</li>
<li><p>Openbox Theme:  Unpack file like that into the <code>~/.themes</code> directory, create it if it does not exists.</p>
</li>
</ul>
<h3 id="参见"><a href="#参见" class="headerlink" title="参见"></a>参见</h3><p><span class="exturl" data-url="aHR0cHM6Ly92ZXJtYWRlbi53b3JkcHJlc3MuY29tL2ZyZWVic2QtZGVza3RvcC8=">FreeBSD Desktop | 𝚟𝚎𝚛𝚖𝚊𝚍𝚎𝚗 (wordpress.com)<i class="fa fa-external-link-alt"></i></span></p>

    </div>

    
    
    

    <footer class="post-footer">


          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>vane
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/" title="FreeBSD Desktop">https://vanehsiung.github.io/2020/11/28/FreeBSD-Desktop/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9lbg=="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> unless stating additionally.
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/Unix/" rel="tag"># Unix</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/11/26/Microservices/" rel="prev" title="Microservices">
                  <i class="fa fa-chevron-left"></i> Microservices
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






      
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Vane Hsiung</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZw==">NexT.Gemini</span>
  </div>

<script src="https://cdn.jsdelivr.net/gh/suyin-long/activate-power-mode@1.0/dist/activate-power-mode.js"></script>
<script>
POWERMODE.colorful = true; // make power mode colorful
POWERMODE.shake = false; // turn off shake
document.body.addEventListener('input', POWERMODE);
</script>




    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="//cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@next-theme/pjax@0.4.0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>
  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollRestoration: false,
  scrollTo: !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script>


  
  <script data-pjax>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  <script src="/js/local-search.js"></script>










<script data-pjax>
if (document.querySelectorAll('.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8.8.2/dist/mermaid.min.js', () => {
    mermaid.init({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    }, '.mermaid');
  }, window.mermaid);
}
</script>



  <script>
    NProgress.configure({
      showSpinner: false
    });
    NProgress.start();
    document.addEventListener('readystatechange', () => {
      if (document.readyState === 'interactive') {
        NProgress.inc(0.8);
      }
      if (document.readyState === 'complete') {
        NProgress.done();
      }
    });
    document.addEventListener('pjax:send', () => {
      NProgress.start();
    });
    document.addEventListener('pjax:success', () => {
      NProgress.done();
    });
  </script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>








    <div class="pjax">
  

  

<script>
NexT.utils.loadComments('#valine-comments', () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', () => {
    new Valine(Object.assign({"enable":true,"appId":"G67MmfRxl5TjCAtFep67L5uE-MdYXbMMI","appKey":"VOboVn8MgICLoqhs8exvJGLc","serverURLs":null,"placeholder":"Just go go","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"lang":null,"visitor":false,"comment_count":true,"recordIP":false,"enableQQ":false,"requiredFields":[]}, {
      el: '#valine-comments',
      path: "/2020/11/28/FreeBSD-Desktop/",
      serverURLs: "https://g67mmfrx.api.lncldglobal.com"
    }));
  }, window.Valine);
});
</script>
<div class="moon-menu">
  <div class="moon-menu-items">
    
    <div class="moon-menu-item" onclick="back2bottom()">
      <i class='fas fa-chevron-down'></i>    </div>
    
    <div class="moon-menu-item" onclick="back2top()">
      <i class='fas fa-chevron-up'></i>    </div>
    
  </div>
  <div class="moon-menu-button">
    <svg class="moon-menu-bg">
      <circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"></circle>
      <circle class="moon-menu-border" cx="50%" cy="50%" r="48%"></circle>
    </svg>
    <div class="moon-menu-content">
      <div class="moon-menu-icon"><i class='fas fa-ellipsis-v'></i></div>
      <div class="moon-menu-text"></div>
    </div>
  </div>
</div><script src="/js/injector.js"></script>
    </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":400},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>
</html>
